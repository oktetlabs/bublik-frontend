(self.webpackChunk=self.webpackChunk||[]).push([[377],{89377:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ce});var r=a(56712),n=a(56403),s=(a(75751),a(67859),a(52983)),i=a(91151),l=(a(6688),a(94641),a(75044),a(30910),a(86512),a(14209),a(87517)),o=(Math.pow(10,8),36e5),u=a(87709),c=a(83879);var d={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x(e){var t,a={},r=e.split(d.dateTimeDelimiter);if(r.length>2)return a;if(/:/.test(r[0])?t=r[0]:(a.date=r[0],t=r[1],d.timeZoneDelimiter.test(a.date)&&(a.date=e.split(d.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){var n=d.timezone.exec(t);n?(a.time=t.replace(n[1],""),a.timezone=n[1]):a.time=t}return a}function f(e,t){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};var n=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((r[1]||r[2]).length)}}function h(e,t){if(null===t)return new Date(NaN);var a=e.match(m);if(!a)return new Date(NaN);var r=!!a[4],n=v(a[1]),s=v(a[2])-1,i=v(a[3]),l=v(a[4]),o=v(a[5])-1;if(r)return function(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}(0,l,o)?function(e,t,a){var r=new Date(0);r.setUTCFullYear(e,0,4);var n=r.getUTCDay()||7,s=7*(t-1)+a+1-n;return r.setUTCDate(r.getUTCDate()+s),r}(t,l,o):new Date(NaN);var u=new Date(0);return function(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(_[t]||(y(e)?29:28))}(t,s,i)&&function(e,t){return t>=1&&t<=(y(e)?366:365)}(t,n)?(u.setUTCFullYear(t,s,Math.max(n,i)),u):new Date(NaN)}function v(e){return e?parseInt(e):1}function b(e){var t=e.match(g);if(!t)return NaN;var a=j(t[1]),r=j(t[2]),n=j(t[3]);return function(e,t,a){if(24===e)return 0===t&&0===a;return a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}(a,r,n)?a*o+6e4*r+1e3*n:NaN}function j(e){return e&&parseFloat(e.replace(",","."))||0}function N(e){if("Z"===e)return 0;var t=e.match(p);if(!t)return 0;var a="+"===t[1]?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,n)?a*(r*o+6e4*n):NaN}var _=[31,null,31,30,31,30,31,31,30,31,30,31];function y(e){return e%400==0||e%4==0&&e%100!=0}var C=a(37122);const D=e=>{if(!e||!(0,l.Z)(function(e,t){(0,u.Z)(1,arguments);var a=t||{},r=null==a.additionalDigits?2:(0,c.Z)(a.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var n,s=x(e);if(s.date){var i=f(s.date,r);n=h(i.restDateString,i.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var l,o=n.getTime(),d=0;if(s.time&&(d=b(s.time),isNaN(d)))return new Date(NaN);if(!s.timezone){var m=new Date(o+d),g=new Date(0);return g.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),g.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),g}return l=N(s.timezone),isNaN(l)?new Date(NaN):new Date(o+d+l)}(e)))return null;return`${(0,C.Z)(new Date(e),"MMMM dd yyyy, HH:mm")} UTC`},w=e=>{return e?(t=parseInt(e),`${Math.floor(t/3600).toString().padStart(2,"0")}:${Math.floor(t%3600/60).toString().padStart(2,"0")}:${Math.ceil(t%3600%60).toString().padStart(2,"0")}`):null;var t},S=e=>e.replace("=",": "),T=e=>t=>{const a={formatter:S},r=Object.assign({},a,e);return t.map(k(r))},k=e=>t=>({value:e.formatter?e.formatter(t):t,isImportant:e.isImportant,className:e.backgroundColor}),M="detail-item_item__32yua",I="detail-item_value-container__bnAUR";var $=a(97458);const F=({label:e,value:t})=>(0,$.jsxs)("li",{className:M,children:[(0,$.jsx)("div",{children:(0,$.jsx)("span",{className:"text-[0.6875rem] font-medium leading-[0.875rem] text-text-menu",children:e})}),(0,$.jsx)("div",{className:I,children:(0,s.isValidElement)(t)?t:(0,$.jsx)("span",{className:"text-[0.6875rem] font-medium leading-[0.875rem]",children:null===t?" \u2014 ":t})})]});var U=a(69175),Z=a(11095),E=a(91169),R=a(13500),O=a(60892),V=(a(5993),a(19587)),B=a(53379),q=a(35562),z=a(39636);const H={hidden:{opacity:0,scale:0},visible:{opacity:1,scale:1,transition:{delay:.15}}},L=(0,s.forwardRef)((({copyString:e,onCopyComplete:t},a)=>{const[r,n]=(0,s.useState)(!1),[,i]=(0,q.m9)(),l=()=>n(!1);(0,s.useImperativeHandle)(a,(()=>({resetState:l})),[]);return(0,$.jsxs)(V.E.button,{className:"flex items-center gap-1 px-4 bg-white rounded transition-colors shadow-tooltip hover:text-primary h-[30px]",layout:!0,onClick:async()=>{const a=await i(e||"");n(!0),null==t||t(a)},initial:"hidden",animate:"visible",children:[(0,$.jsx)(V.E.span,{className:"justify-self-start flex-shrink-0 text-[0.6875rem] font-medium leading-[0.875rem]",layout:!0,children:"Copy"}),(0,$.jsx)(B.M,{children:r&&(0,$.jsx)(V.E.div,{className:"flex items-center justify-center",variants:H,children:(0,$.jsx)(z.P.CircleOk16x16,{className:"text-primary"})})})]})})),Y=["copyString","onCopyComplete","children"],P=(0,O.Z)(E.ZP)({"& .tippy-arrow":{width:"12px",height:"6px",backgroundColor:"var(--chakra-colors-bg-primary)",clipPath:"polygon(0 0, 50% 80%, 100% 0)",boxShadow:""}}),W=e=>{const{copyString:t="",onCopyComplete:a,children:r}=e,n=(0,Z.Z)(e,Y),i=(0,s.useRef)(null);return(0,$.jsx)(P,Object.assign({animation:"scale",interactive:!0,onHidden:()=>{var e;return null==(e=i.current)?void 0:e.resetState()},moveTransition:"0",followCursor:"horizontal",plugins:[R.Cv],delay:[400,0],content:(0,$.jsx)(L,{copyString:t,onCopyComplete:a,ref:i})},n,{children:r}))},A=({item:e,formatter:t})=>{const{name:a,value:r,url:n,isImportant:s,className:l}=e,o=s?"bg-badge-6":l,{displayValue:u,copyValue:c}=((e,t)=>{const[a,r,n]=((e,t)=>{const a=null!=e?e:"",r=null!=t?t:"";let n="";return a&&r&&(n=`${a}: ${r}`),!a&&r&&(n=r),a&&!r&&(n=a),[n,a,r]})(e,t),s=(0,i.vu)(a),l=s?n:a.replace(": ","=");return{displayValue:s?`${r.replace(i.oY,"")}: ${n.slice(0,8)}`:a,copyValue:l}})(a,r);return n?(0,$.jsx)(W,{copyString:c,children:(0,$.jsx)("a",{className:(0,U.m6)(o,"text-[0.625rem] font-medium leading-[1.125rem]","rounded inline-flex py-0.5 px-2 border border-transparent hover:underline"),href:n,rel:"noreferrer",target:"_blank",children:t?t(u):u})}):(0,$.jsx)(W,{copyString:c,children:(0,$.jsx)(U.Ct,{className:`${o} text-[0.625rem] font-medium leading-[1.125rem]`,children:t?t(u):u})})},G="info-list_grid-list__24TsR",K="info-list_label__1Eqga",X="info-list_list__kgcqT",J=({label:e,items:t,formatter:a})=>(0,$.jsxs)("div",{className:G,children:[(0,$.jsx)("div",{className:K,children:(0,$.jsx)("span",{className:"text-text-menu text-[0.6875rem] font-medium leading-[0.875rem]",children:e})}),(0,$.jsx)("div",{className:X,children:(0,$.jsx)("ul",{className:"flex flex-wrap items-center gap-1",children:t.map(((e,t)=>(0,$.jsx)(A,{item:e,formatter:a},t)))})})]});var Q=a(67912);const ee=({status:e})=>{const{bg:t,color:a,icon:r,label:n}=(0,Q.Vj)(e);return(0,$.jsxs)(Q.kC,{className:"flex items-center w-fit gap-1 rounded py-0.5 px-1.5",bg:t,color:a,children:[r,(0,$.jsx)("span",{className:"text-[0.625rem] font-medium leading-[0.75rem]",children:n})]})},te="run-details_collapse__2_Ops",ae="run-details_grid__25qvj",re="run-details_grid-item__2AMl-",ne="run-details_grid-item-collapse__1GDV7",se="run-details_grid-item-full__227kC",ie="run-details_grid-tags__1CYm2",le="run-details_span-2__2SOEc",oe="run-details_span-1__1WXax",ue=e=>{const{isFullMode:t,runId:a,mainPackage:r,start:n,finish:l,duration:o,runStatus:u,branches:c,revisions:d,labels:m,relevantTags:g,importantTags:p,specialCategories:x,status:f,statusByNok:h}=e,v=(0,s.useMemo)((()=>{var e;return{runStartDate:D(n),runFinishDate:D(l),runDuration:w(o),runRevisions:(e="bg-badge-2",d.map((t=>({value:t.value,className:e,isImportant:!1,name:t.name,url:t.url})))),runTags:((e,t)=>{const a={isImportant:!0,formatter:S},r={backgroundColor:"badges.badge0",formatter:S},n=e.map(k(a)),s=t.map(k(r));return{relevant:s,important:n,combined:[...n,...s]}})(p,g),runLabels:T({backgroundColor:"bg-badge-10"})(m),runBranches:T({backgroundColor:"bg-badge-16"})(c)}}),[c,o,l,p,m,g,d,n]);return(0,$.jsx)("div",{className:"w-full",children:(0,$.jsxs)("div",{className:ae,children:[(0,$.jsx)("div",{className:`${re} ${t?se:ne}`,children:(0,$.jsx)("ul",{className:"flex flex-col gap-4 whitespace-nowrap",children:t?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(F,{label:"Identifier",value:a}),(0,$.jsx)(F,{label:"Main package",value:r}),(0,$.jsx)(F,{label:"Start",value:v.runStartDate}),(0,$.jsx)(F,{label:"Finish",value:v.runFinishDate}),(0,$.jsx)(F,{label:"Duration",value:v.runDuration}),(0,$.jsx)(F,{label:"Status",value:f}),(0,$.jsx)(F,{label:"Status by NOK",value:h}),(0,$.jsx)(F,{label:"Conclusion",value:(0,$.jsx)(ee,{status:u})})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(F,{label:"Start",value:v.runStartDate}),(0,$.jsx)(F,{label:"Conclusion",value:(0,$.jsx)(ee,{status:u})})]})})}),(0,$.jsx)("div",{className:ie,children:(0,$.jsx)("div",{className:"flex flex-col gap-2",children:t?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(J,{label:"Branches",items:v.runBranches,formatter:i.qu}),(0,$.jsx)(J,{label:"Revisions",items:v.runRevisions}),(0,$.jsx)(J,{label:"Labels",items:v.runLabels}),(0,$.jsx)(J,{label:"Tags",items:v.runTags.combined})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(J,{label:"Branches",items:v.runBranches,formatter:i.qu}),(0,$.jsx)(J,{label:"Important",items:v.runTags.important})]})})}),Object.entries(x).length?(0,$.jsx)("div",{className:t?oe:le,children:(0,$.jsx)("div",{className:`flex flex-col gap-2 ${te}`,children:Object.entries(x).map((([e,t])=>(0,$.jsx)(J,{label:e,items:T({backgroundColor:"bg-badge-4"})(t)},e)))})}):null]})})},ce=({runId:e,isFullMode:t})=>{const{data:a,isLoading:s,isError:i}=(0,n.qL)(null!=e?e:r.skipToken);return i?(0,$.jsx)("span",{children:"error..."}):s?(0,$.jsx)("div",{children:"Loading..."}):a?(0,$.jsx)(ue,{isFullMode:t,runId:a.id,mainPackage:a.main_package,start:a.start,finish:a.finish,duration:a.duration,runStatus:a.conclusion,isCompromised:a.is_compromised,importantTags:a.important_tags,relevantTags:a.relevant_tags,branches:a.branches,revisions:a.revisions,labels:a.labels,specialCategories:a.special_categories,status:a.status,statusByNok:a.status_by_nok}):null}},52047:(e,t,a)=>{var r=a(83352);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},77551:(e,t,a)=>{var r=a(90056),n=a(13219),s=a(52761),i=a(91436),l=a(82670),o=r(i),u=r("".slice),c=Math.ceil,d=function(e){return function(t,a,r){var i,d,m=s(l(t)),g=n(a),p=m.length,x=void 0===r?" ":s(r);return g<=p||""==x?m:((d=o(x,c((i=g-p)/x.length))).length>i&&(d=u(d,0,i)),e?m+d:d+m)}};e.exports={start:d(!1),end:d(!0)}},91436:(e,t,a)=>{"use strict";var r=a(93972),n=a(52761),s=a(82670),i=RangeError;e.exports=function(e){var t=n(s(this)),a="",l=r(e);if(l<0||l==1/0)throw i("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(t+=t))1&l&&(a+=t);return a}},6688:(e,t,a)=>{"use strict";var r=a(15168),n=a(77551).start;r({target:"String",proto:!0,forced:a(52047)},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);