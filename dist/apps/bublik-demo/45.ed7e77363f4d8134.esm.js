(self.webpackChunk=self.webpackChunk||[]).push([[45],{10045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>de});var r=a(56712),n=a(25673),i=(a(75751),a(67859),a(52983)),s=a(54231),l=(a(6688),a(94641),a(75044),a(30910),a(86512),a(14209),a(87517)),o=(Math.pow(10,8),36e5),u=a(87709),c=a(83879);var d={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,p=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f(e){var t,a={},r=e.split(d.dateTimeDelimiter);if(r.length>2)return a;if(/:/.test(r[0])?t=r[0]:(a.date=r[0],t=r[1],d.timeZoneDelimiter.test(a.date)&&(a.date=e.split(d.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){var n=d.timezone.exec(t);n?(a.time=t.replace(n[1],""),a.timezone=n[1]):a.time=t}return a}function h(e,t){var a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};var n=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?n:100*i,restDateString:e.slice((r[1]||r[2]).length)}}function x(e,t){if(null===t)return new Date(NaN);var a=e.match(m);if(!a)return new Date(NaN);var r=!!a[4],n=b(a[1]),i=b(a[2])-1,s=b(a[3]),l=b(a[4]),o=b(a[5])-1;if(r)return function(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}(0,l,o)?function(e,t,a){var r=new Date(0);r.setUTCFullYear(e,0,4);var n=r.getUTCDay()||7,i=7*(t-1)+a+1-n;return r.setUTCDate(r.getUTCDate()+i),r}(t,l,o):new Date(NaN);var u=new Date(0);return function(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(y[t]||(_(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(_(e)?366:365)}(t,n)?(u.setUTCFullYear(t,i,Math.max(n,s)),u):new Date(NaN)}function b(e){return e?parseInt(e):1}function v(e){var t=e.match(p);if(!t)return NaN;var a=j(t[1]),r=j(t[2]),n=j(t[3]);return function(e,t,a){if(24===e)return 0===t&&0===a;return a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}(a,r,n)?a*o+6e4*r+1e3*n:NaN}function j(e){return e&&parseFloat(e.replace(",","."))||0}function N(e){if("Z"===e)return 0;var t=e.match(g);if(!t)return 0;var a="+"===t[1]?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,n)?a*(r*o+6e4*n):NaN}var y=[31,null,31,30,31,30,31,31,30,31,30,31];function _(e){return e%400==0||e%4==0&&e%100!=0}var C=a(37122);const D=e=>{if(!e||!(0,l.Z)(function(e,t){(0,u.Z)(1,arguments);var a=t||{},r=null==a.additionalDigits?2:(0,c.Z)(a.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var n,i=f(e);if(i.date){var s=h(i.date,r);n=x(s.restDateString,s.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var l,o=n.getTime(),d=0;if(i.time&&(d=v(i.time),isNaN(d)))return new Date(NaN);if(!i.timezone){var m=new Date(o+d),p=new Date(0);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return l=N(i.timezone),isNaN(l)?new Date(NaN):new Date(o+d+l)}(e)))return null;return`${(0,C.Z)(new Date(e),"MMMM dd yyyy, HH:mm")} UTC`},w=e=>{return e?(t=parseInt(e),`${Math.floor(t/3600).toString().padStart(2,"0")}:${Math.floor(t%3600/60).toString().padStart(2,"0")}:${Math.ceil(t%3600%60).toString().padStart(2,"0")}`):null;var t},S=e=>e.replace("=",": "),k=e=>t=>{const a={formatter:S},r=Object.assign({},a,e);return t.map(T(r))},T=e=>t=>({value:e.formatter?e.formatter(t):t,isImportant:e.isImportant,className:e.backgroundColor}),M="detail-item_item__32yua",$="detail-item_value-container__bnAUR";var I=a(97458);const F=({label:e,value:t})=>(0,I.jsxs)("li",{className:M,children:[(0,I.jsx)("div",{children:(0,I.jsx)("span",{className:"text-[0.6875rem] font-medium leading-[0.875rem] text-text-menu",children:e})}),(0,I.jsx)("div",{className:$,children:(0,i.isValidElement)(t)?t:(0,I.jsx)("span",{className:"text-[0.6875rem] font-medium leading-[0.875rem]",children:null===t?" \u2014 ":t})})]});var U=a(13657),Z=a(50358),E=a(91169),O=a(13500),R=a(36644),q=(a(53341),R.Z.bind());["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){q[e]=q(e)}));const V=q;a(5993);var B=a(96962),z=a(53379),H=a(32131),L=a(18294);const P={hidden:{opacity:0,scale:0},visible:{opacity:1,scale:1,transition:{delay:.15}}},Y=(0,i.forwardRef)((({copyString:e,onCopyComplete:t},a)=>{const[r,n]=(0,i.useState)(!1),[,s]=(0,H.m9)(),l=()=>n(!1);(0,i.useImperativeHandle)(a,(()=>({resetState:l})),[]);return(0,I.jsxs)(B.E.button,{className:"flex items-center gap-1 px-4 bg-white rounded transition-colors shadow-tooltip hover:text-primary h-[30px]",layout:!0,onClick:async()=>{const a=await s(e||"");n(!0),null==t||t(a)},initial:"hidden",animate:"visible",children:[(0,I.jsx)(B.E.span,{className:"justify-self-start flex-shrink-0 text-[0.6875rem] font-medium leading-[0.875rem]",layout:!0,children:"Copy"}),(0,I.jsx)(z.M,{children:r&&(0,I.jsx)(B.E.div,{className:"flex items-center justify-center",variants:P,children:(0,I.jsx)(L.P.CircleOk16x16,{className:"text-primary"})})})]})})),G=["copyString","onCopyComplete","children"],W=V(E.ZP)({"& .tippy-arrow":{width:"12px",height:"6px",backgroundColor:"#ffffff",clipPath:"polygon(0 0, 50% 80%, 100% 0)"}}),A=e=>{const{copyString:t="",onCopyComplete:a,children:r}=e,n=(0,Z.Z)(e,G),s=(0,i.useRef)(null);return(0,I.jsx)(W,Object.assign({animation:"scale",interactive:!0,onHidden:()=>{var e;return null==(e=s.current)?void 0:e.resetState()},moveTransition:"0",followCursor:"horizontal",plugins:[O.Cv],delay:[400,0],content:(0,I.jsx)(Y,{copyString:t,onCopyComplete:a,ref:s})},n,{children:r}))},K=({item:e,formatter:t})=>{const{name:a,value:r,url:n,isImportant:i,className:l}=e,o=i?"bg-badge-6":l,{displayValue:u,copyValue:c}=((e,t)=>{const[a,r,n]=((e,t)=>{const a=null!=e?e:"",r=null!=t?t:"";let n="";return a&&r&&(n=`${a}: ${r}`),!a&&r&&(n=r),a&&!r&&(n=a),[n,a,r]})(e,t),i=(0,s.vu)(a),l=i?n:a.replace(": ","=");return{displayValue:i?`${r.replace(s.oY,"")}: ${n.slice(0,8)}`:a,copyValue:l}})(a,r);return n?(0,I.jsx)(A,{copyString:c,children:(0,I.jsx)("a",{className:(0,U.m6)(o,"text-[0.625rem] font-medium leading-[1.125rem]","rounded inline-flex py-0.5 px-2 border border-transparent hover:underline"),href:n,rel:"noreferrer",target:"_blank",children:t?t(u):u})}):(0,I.jsx)(A,{copyString:c,children:(0,I.jsx)(U.Ct,{className:`${o} text-[0.625rem] font-medium leading-[1.125rem]`,children:t?t(u):u})})},X="info-list_grid-list__24TsR",J="info-list_label__1Eqga",Q="info-list_list__kgcqT",ee=({label:e,items:t,formatter:a})=>(0,I.jsxs)("div",{className:X,children:[(0,I.jsx)("div",{className:J,children:(0,I.jsx)("span",{className:"text-text-menu text-[0.6875rem] font-medium leading-[0.875rem]",children:e})}),(0,I.jsx)("div",{className:Q,children:(0,I.jsx)("ul",{className:"flex flex-wrap items-center gap-1",children:t.map(((e,t)=>(0,I.jsx)(K,{item:e,formatter:a},t)))})})]}),te=({status:e})=>{const{bg:t,color:a,icon:r,label:n}=(0,U.Vj)(e);return(0,I.jsxs)("div",{className:`flex items-center w-fit gap-1 rounded py-0.5 px-1.5 ${t} ${a}`,children:[r,(0,I.jsx)("span",{className:"text-[0.625rem] font-medium leading-[0.75rem]",children:n})]})},ae="run-details_collapse__2_Ops",re="run-details_grid__25qvj",ne="run-details_grid-item__2AMl-",ie="run-details_grid-item-collapse__1GDV7",se="run-details_grid-item-full__227kC",le="run-details_grid-tags__1CYm2",oe="run-details_span-2__2SOEc",ue="run-details_span-1__1WXax",ce=e=>{const{isFullMode:t,runId:a,mainPackage:r,start:n,finish:l,duration:o,runStatus:u,branches:c,revisions:d,labels:m,relevantTags:p,importantTags:g,specialCategories:f,status:h,statusByNok:x}=e,b=(0,i.useMemo)((()=>{var e;return{runStartDate:D(n),runFinishDate:D(l),runDuration:w(o),runRevisions:(e="bg-badge-2",d.map((t=>({value:t.value,className:e,isImportant:!1,name:t.name,url:t.url})))),runTags:((e,t)=>{const a={isImportant:!0,formatter:S},r={backgroundColor:"badges.badge0",formatter:S},n=e.map(T(a)),i=t.map(T(r));return{relevant:i,important:n,combined:[...n,...i]}})(g,p),runLabels:k({backgroundColor:"bg-badge-10"})(m),runBranches:k({backgroundColor:"bg-badge-16"})(c)}}),[c,o,l,g,m,p,d,n]);return(0,I.jsx)("div",{className:"w-full",children:(0,I.jsxs)("div",{className:re,children:[(0,I.jsx)("div",{className:`${ne} ${t?se:ie}`,children:(0,I.jsx)("ul",{className:"flex flex-col gap-4 whitespace-nowrap",children:t?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(F,{label:"Identifier",value:a}),(0,I.jsx)(F,{label:"Main package",value:r}),(0,I.jsx)(F,{label:"Start",value:b.runStartDate}),(0,I.jsx)(F,{label:"Finish",value:b.runFinishDate}),(0,I.jsx)(F,{label:"Duration",value:b.runDuration}),(0,I.jsx)(F,{label:"Status",value:h}),(0,I.jsx)(F,{label:"Status by NOK",value:x}),(0,I.jsx)(F,{label:"Conclusion",value:(0,I.jsx)(te,{status:u})})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(F,{label:"Start",value:b.runStartDate}),(0,I.jsx)(F,{label:"Conclusion",value:(0,I.jsx)(te,{status:u})})]})})}),(0,I.jsx)("div",{className:le,children:(0,I.jsx)("div",{className:"flex flex-col gap-2",children:t?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ee,{label:"Branches",items:b.runBranches,formatter:s.qu}),(0,I.jsx)(ee,{label:"Revisions",items:b.runRevisions}),(0,I.jsx)(ee,{label:"Labels",items:b.runLabels}),(0,I.jsx)(ee,{label:"Tags",items:b.runTags.combined})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ee,{label:"Branches",items:b.runBranches,formatter:s.qu}),(0,I.jsx)(ee,{label:"Important",items:b.runTags.important})]})})}),Object.entries(f).length?(0,I.jsx)("div",{className:t?ue:oe,children:(0,I.jsx)("div",{className:`flex flex-col gap-2 ${ae}`,children:Object.entries(f).map((([e,t])=>(0,I.jsx)(ee,{label:e,items:k({backgroundColor:"bg-badge-4"})(t)},e)))})}):null]})})},de=({runId:e,isFullMode:t})=>{const{data:a,isLoading:i,isError:s}=(0,n.qL)(null!=e?e:r.skipToken);return s?(0,I.jsx)("span",{children:"error..."}):i?(0,I.jsx)("div",{children:"Loading..."}):a?(0,I.jsx)(ce,{isFullMode:t,runId:a.id,mainPackage:a.main_package,start:a.start,finish:a.finish,duration:a.duration,runStatus:a.conclusion,isCompromised:a.is_compromised,importantTags:a.important_tags,relevantTags:a.relevant_tags,branches:a.branches,revisions:a.revisions,labels:a.labels,specialCategories:a.special_categories,status:a.status,statusByNok:a.status_by_nok}):null}},52047:(e,t,a)=>{var r=a(83352);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},77551:(e,t,a)=>{var r=a(90056),n=a(13219),i=a(52761),s=a(91436),l=a(82670),o=r(s),u=r("".slice),c=Math.ceil,d=function(e){return function(t,a,r){var s,d,m=i(l(t)),p=n(a),g=m.length,f=void 0===r?" ":i(r);return p<=g||""==f?m:((d=o(f,c((s=p-g)/f.length))).length>s&&(d=u(d,0,s)),e?m+d:d+m)}};e.exports={start:d(!1),end:d(!0)}},91436:(e,t,a)=>{"use strict";var r=a(93972),n=a(52761),i=a(82670),s=RangeError;e.exports=function(e){var t=n(i(this)),a="",l=r(e);if(l<0||l==1/0)throw s("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(t+=t))1&l&&(a+=t);return a}},6688:(e,t,a)=>{"use strict";var r=a(15168),n=a(77551).start;r({target:"String",proto:!0,forced:a(52047)},{padStart:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);