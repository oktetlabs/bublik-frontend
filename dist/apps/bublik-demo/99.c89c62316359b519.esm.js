(self.webpackChunk=self.webpackChunk||[]).push([[99],{32099:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Or});r(75751),r(67859),r(30910),r(84002),r(81929);var n=r(52983),a=r(68109),i=r(95197),l=r(38125),s=r(32131),o=r(36193),u=r(13657),c=r(764),d=(r(14209),r(12459),r(51811),r(78445));function m(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,m),n}var f,p=((f=p||{})[f.None=0]="None",f[f.RenderStrategy=1]="RenderStrategy",f[f.Static=2]="Static",f),h=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(h||{});function v({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:i=!0,name:l}){let s=b(t,e);if(i)return g(s,r,n,l);let o=null!=a?a:0;if(2&o){let{static:e=!1,...t}=s;if(e)return g(t,r,n,l)}if(1&o){let{unmount:e=!0,...t}=s;return m(e?0:1,{0:()=>null,1:()=>g({...t,hidden:!0,style:{display:"none"}},r,n,l)})}return g(s,r,n,l)}function g(e,t={},r,a){let{as:i=r,children:l,refName:s="ref",...o}=w(e,["unmount","static"]),u=void 0!==e.ref?{[s]:e.ref}:{},c="function"==typeof l?l(t):l;o.className&&"function"==typeof o.className&&(o.className=o.className(t));let d={};if(i===n.Fragment&&Object.keys(y(o)).length>0){if(!(0,n.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,n.cloneElement)(c,Object.assign({},b(c.props,y(w(o,["ref"]))),d,u))}return(0,n.createElement)(i,Object.assign({},w(o,["ref"]),i!==n.Fragment&&u,i!==n.Fragment&&d),c)}function b(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map((e=>[e,void 0]))));for(let n in r)Object.assign(t,{[n](e,...t){let a=r[n];for(let r of a){if(e.defaultPrevented)return;r(e,...t)}}});return t}function x(e){var t;return Object.assign((0,n.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function y(e){let t=Object.assign({},e);for(let r in t)void 0===t[r]&&delete t[r];return t}function w(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let E=(0,n.createContext)(null);E.displayName="OpenClosedContext";var N=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(N||{});function Z(){return(0,n.useContext)(E)}function P({value:e,children:t}){return n.createElement(E.Provider,{value:e},t)}function S(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}let C="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,D={serverHandoffComplete:!1};function R(){let[e,t]=(0,n.useState)(D.serverHandoffComplete);return(0,n.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,n.useEffect)((()=>{!1===D.serverHandoffComplete&&(D.serverHandoffComplete=!0)}),[]),e}var k;let T=0;function F(){return++T}let L=null!=(k=n.useId)?k:function(){let e=R(),[t,r]=n.useState(e?F:null);return C((()=>{null===t&&r(F())}),[t]),null!=t?""+t:void 0};function _(){let e=(0,n.useRef)(!1);return C((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function B(e){let t=(0,n.useRef)(e);return C((()=>{t.current=e}),[e]),t}let O=function(e){let t=B(e);return n.useCallback(((...e)=>t.current(...e)),[t])},j=Symbol();function X(...e){let t=(0,n.useRef)(e);(0,n.useEffect)((()=>{t.current=e}),[e]);let r=O((e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[j])))?void 0:r}function A(){let e=[],t=[],r={enqueue(e){t.push(e)},addEventListener:(e,t,n,a)=>(e.addEventListener(t,n,a),r.add((()=>e.removeEventListener(t,n,a)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>r.requestAnimationFrame((()=>r.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return r.add((()=>clearTimeout(t)))},add:t=>(e.push(t),()=>{let r=e.indexOf(t);if(r>=0){let[t]=e.splice(r,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return r}function H(e,...t){e&&t.length>0&&e.classList.add(...t)}function M(e,...t){e&&t.length>0&&e.classList.remove(...t)}var I=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(I||{});function $(e,t,r,n){let a=r?"enter":"leave",i=A(),l=void 0!==n?function(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}(n):()=>{},s=m(a,{enter:()=>t.enter,leave:()=>t.leave}),o=m(a,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=m(a,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return M(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),H(e,...s,...u),i.nextFrame((()=>{M(e,...u),H(e,...o),function(e,t){let r=A();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(e),[i,l]=[n,a].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(i+l!==0){let n=[];n.push(r.addEventListener(e,"transitionrun",(a=>{a.target===a.currentTarget&&(n.splice(0).forEach((e=>e())),n.push(r.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t("ended"),n.splice(0).forEach((e=>e())))})),r.addEventListener(e,"transitioncancel",(e=>{e.target===e.currentTarget&&(t("cancelled"),n.splice(0).forEach((e=>e())))}))))})))}else t("ended");r.add((()=>t("cancelled"))),r.dispose}(e,(r=>("ended"===r&&(M(e,...s),H(e,...t.entered)),l(r))))})),i.dispose}function U({container:e,direction:t,classes:r,events:a,onStart:i,onStop:l}){let s=_(),o=function(){let[e]=(0,n.useState)(A);return(0,n.useEffect)((()=>()=>e.dispose()),[e]),e}(),u=B(t),c=O((()=>m(u.current,{enter:()=>a.current.beforeEnter(),leave:()=>a.current.beforeLeave(),idle:()=>{}}))),d=O((()=>m(u.current,{enter:()=>a.current.afterEnter(),leave:()=>a.current.afterLeave(),idle:()=>{}})));C((()=>{let t=A();o.add(t.dispose);let n=e.current;if(n&&"idle"!==u.current&&s.current)return t.dispose(),c(),i.current(u.current),t.add($(n,r.current,"enter"===u.current,(e=>{t.dispose(),m(e,{[I.Ended](){d(),l.current(u.current)},[I.Cancelled]:()=>{}})}))),t.dispose}),[t])}function z(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let V=(0,n.createContext)(null);V.displayName="TransitionContext";var W,q=((W=q||{}).Visible="visible",W.Hidden="hidden",W);let G=(0,n.createContext)(null);function K(e){return"children"in e?K(e.children):e.current.filter((({state:e})=>"visible"===e)).length>0}function Y(e){let t=B(e),r=(0,n.useRef)([]),a=_(),i=O(((e,n=h.Hidden)=>{let i=r.current.findIndex((({id:t})=>t===e));-1!==i&&(m(n,{[h.Unmount](){r.current.splice(i,1)},[h.Hidden](){r.current[i].state="hidden"}}),S((()=>{var e;!K(r)&&a.current&&(null==(e=t.current)||e.call(t))})))})),l=O((e=>{let t=r.current.find((({id:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),()=>i(e,h.Unmount)}));return(0,n.useMemo)((()=>({children:r,register:l,unregister:i})),[l,i,r])}function J(){}G.displayName="NestingContext";let Q=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ee(e){var t;let r={};for(let n of Q)r[n]=null!=(t=e[n])?t:J;return r}let te=p.RenderStrategy,re=x((function(e,t){let{beforeEnter:r,afterEnter:a,beforeLeave:i,afterLeave:l,enter:s,enterFrom:o,enterTo:u,entered:c,leave:d,leaveFrom:f,leaveTo:p,...g}=e,b=(0,n.useRef)(null),x=X(b,t),[y,w]=(0,n.useState)("visible"),E=g.unmount?h.Unmount:h.Hidden,{show:Z,appear:S,initial:C}=function(){let e=(0,n.useContext)(V);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:D,unregister:k}=function(){let e=(0,n.useContext)(G);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),T=(0,n.useRef)(null),F=L();(0,n.useEffect)((()=>{if(F)return D(F)}),[D,F]),(0,n.useEffect)((()=>{if(E===h.Hidden&&F){if(Z&&"visible"!==y)return void w("visible");m(y,{hidden:()=>k(F),visible:()=>D(F)})}}),[y,F,D,k,Z,E]);let _=B({enter:z(s),enterFrom:z(o),enterTo:z(u),entered:z(c),leave:z(d),leaveFrom:z(f),leaveTo:z(p)}),O=function(e){let t=(0,n.useRef)(ee(e));return(0,n.useEffect)((()=>{t.current=ee(e)}),[e]),t}({beforeEnter:r,afterEnter:a,beforeLeave:i,afterLeave:l}),j=R();(0,n.useEffect)((()=>{if(j&&"visible"===y&&null===b.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[b,y,j]);let A=C&&!S,H=!j||A||T.current===Z?"idle":Z?"enter":"leave",M=(0,n.useRef)(!1),I=Y((()=>{M.current||(w("hidden"),k(F))}));U({container:b,classes:_,events:O,direction:H,onStart:B((()=>{M.current=!0})),onStop:B((e=>{M.current=!1,"leave"===e&&!K(I)&&(w("hidden"),k(F))}))}),(0,n.useEffect)((()=>{!A||(E===h.Hidden?T.current=null:T.current=Z)}),[Z,A,y]);let $=g,W={ref:x};return n.createElement(G.Provider,{value:I},n.createElement(P,{value:m(y,{visible:N.Open,hidden:N.Closed})},v({ourProps:W,theirProps:$,defaultTag:"div",features:te,visible:"visible"===y,name:"Transition.Child"})))})),ne=x((function(e,t){let{show:r,appear:a=!1,unmount:i,...l}=e,s=(0,n.useRef)(null),o=X(s,t);R();let u=Z();if(void 0===r&&null!==u&&(r=m(u,{[N.Open]:!0,[N.Closed]:!1})),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=(0,n.useState)(r?"visible":"hidden"),f=Y((()=>{d("hidden")})),[p,h]=(0,n.useState)(!0),g=(0,n.useRef)([r]);C((()=>{!1!==p&&g.current[g.current.length-1]!==r&&(g.current.push(r),h(!1))}),[g,r]);let b=(0,n.useMemo)((()=>({show:r,appear:a,initial:p})),[r,a,p]);(0,n.useEffect)((()=>{if(r)d("visible");else if(K(f)){let e=s.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&d("hidden")}else d("hidden")}),[r,f]);let x={unmount:i};return n.createElement(G.Provider,{value:f},n.createElement(V.Provider,{value:b},v({ourProps:{...x,as:n.Fragment,children:n.createElement(re,{ref:o,...x,...l})},theirProps:{},defaultTag:n.Fragment,features:te,visible:"visible"===c,name:"Transition"})))})),ae=x((function(e,t){let r=null!==(0,n.useContext)(V),a=null!==Z();return n.createElement(n.Fragment,null,!r&&a?n.createElement(ne,{ref:t,...e}):n.createElement(re,{ref:t,...e}))})),ie=Object.assign(ne,{Child:ae,Root:ne});var le=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(le||{});function se(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}var oe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(oe||{});let ue=x((function(e,t){let{features:r=1,...n}=e;return v({ourProps:{ref:t,"aria-hidden":2==(2&r)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&r)&&2!=(2&r)&&{display:"none"}}},theirProps:n,slot:{},defaultTag:"div",name:"Hidden"})}));function ce(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let de=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var me=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(me||{}),fe=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(fe||{}),pe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pe||{});var he=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(he||{});function ve(e){null==e||e.focus({preventScroll:!0})}let ge=["textarea","input"].join(",");function be(e,t,r=!0){let n,a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?r?function(e,t=(e=>e)){return e.slice().sort(((e,r)=>{let n=t(e),a=t(r);if(null===n||null===a)return 0;let i=n.compareDocumentPosition(a);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(e):e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(de))}(e),l=a.activeElement,s=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,i.indexOf(l))-1;if(4&t)return Math.max(0,i.indexOf(l))+1;if(8&t)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},c=0,d=i.length;do{if(c>=d||c+d<=0)return 0;let e=o+c;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}n=i[e],null==n||n.focus(u),c+=s}while(n!==a.activeElement);return 6&t&&function(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,ge))&&r}(n)&&n.select(),n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}function xe(e,t,r){let a=B(t);(0,n.useEffect)((()=>{function t(e){a.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)}),[e,r])}var ye=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ye||{});function we(){let e=(0,n.useRef)(0);return xe("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}function Ee(...e){return(0,n.useMemo)((()=>ce(...e)),[...e])}function Ne(e,t,r,a){let i=B(r);(0,n.useEffect)((()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,r,a),()=>e.removeEventListener(t,r,a)}),[e,t,a])}function Ze(e,t){let r=(0,n.useRef)([]),a=O(e);(0,n.useEffect)((()=>{for(let[e,n]of t.entries())if(r.current[e]!==n){let e=a(t);return r.current=t,e}}),[a,...t])}var Pe=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Pe||{});let Se=Object.assign(x((function(e,t){let r=(0,n.useRef)(null),a=X(r,t),{initialFocus:i,containers:l,features:s=30,...o}=e;R()||(s=1);let u=Ee(r);!function({ownerDocument:e},t){let r=(0,n.useRef)(null);Ne(null==e?void 0:e.defaultView,"focusout",(e=>{!t||r.current||(r.current=e.target)}),!0),Ze((()=>{t||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&ve(r.current),r.current=null)}),[t]);let a=(0,n.useRef)(!1);(0,n.useEffect)((()=>(a.current=!1,()=>{a.current=!0,S((()=>{!a.current||(ve(r.current),r.current=null)}))})),[])}({ownerDocument:u},Boolean(16&s));let c=function({ownerDocument:e,container:t,initialFocus:r},a){let i=(0,n.useRef)(null);return Ze((()=>{if(!a)return;let n=t.current;if(!n)return;let l=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===l)return void(i.current=l)}else if(n.contains(l))return void(i.current=l);null!=r&&r.current?ve(r.current):be(n,me.First)===fe.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement}),[a]),i}({ownerDocument:u,container:r,initialFocus:i},Boolean(2&s));!function({ownerDocument:e,container:t,containers:r,previousActiveElement:n},a){let i=_();Ne(null==e?void 0:e.defaultView,"focus",(e=>{if(!a||!i.current)return;let l=new Set(null==r?void 0:r.current);l.add(t);let s=n.current;if(!s)return;let o=e.target;o&&o instanceof HTMLElement?function(e,t){var r;for(let n of e)if(null!=(r=n.current)&&r.contains(t))return!0;return!1}(l,o)?(n.current=o,ve(o)):(e.preventDefault(),e.stopPropagation(),ve(s)):ve(n.current)}),!0)}({ownerDocument:u,container:r,containers:l,previousActiveElement:c},Boolean(8&s));let d=we(),f=O((()=>{let e=r.current;!e||m(d.current,{[ye.Forwards]:()=>be(e,me.First),[ye.Backwards]:()=>be(e,me.Last)})})),p={ref:a};return n.createElement(n.Fragment,null,Boolean(4&s)&&n.createElement(ue,{as:"button",type:"button",onFocus:f,features:oe.Focusable}),v({ourProps:p,theirProps:o,defaultTag:"div",name:"FocusTrap"}),Boolean(4&s)&&n.createElement(ue,{as:"button",type:"button",onFocus:f,features:oe.Focusable}))})),{features:Pe});let Ce=new Set,De=new Map;function Re(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function ke(e){let t=De.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var Te=r(63730);let Fe=(0,n.createContext)(!1);function Le(){return(0,n.useContext)(Fe)}function _e(e){return n.createElement(Fe.Provider,{value:e.force},e.children)}let Be=n.Fragment,Oe=x((function(e,t){let r=e,a=(0,n.useRef)(null),i=X(function(e,t=!0){return Object.assign(e,{[j]:t})}((e=>{a.current=e})),t),l=Ee(a),s=function(e){let t=Le(),r=(0,n.useContext)(Xe),a=Ee(e),[i,l]=(0,n.useState)((()=>{if(!t&&null!==r||"undefined"==typeof window)return null;let e=null==a?void 0:a.getElementById("headlessui-portal-root");if(e)return e;if(null===a)return null;let n=a.createElement("div");return n.setAttribute("id","headlessui-portal-root"),a.body.appendChild(n)}));return(0,n.useEffect)((()=>{null!==i&&(null!=a&&a.body.contains(i)||null==a||a.body.appendChild(i))}),[i,a]),(0,n.useEffect)((()=>{t||null!==r&&l(r.current)}),[r,l,t]),i}(a),[o]=(0,n.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==l?void 0:l.createElement("div"))?e:null})),u=R(),c=(0,n.useRef)(!1);return C((()=>{if(c.current=!1,s&&o)return s.contains(o)||(o.setAttribute("data-headlessui-portal",""),s.appendChild(o)),()=>{c.current=!0,S((()=>{var e;!c.current||!s||!o||(s.removeChild(o),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))}))}}),[s,o]),u&&s&&o?(0,Te.createPortal)(v({ourProps:{ref:i},theirProps:r,defaultTag:Be,name:"Portal"}),o):null})),je=n.Fragment,Xe=(0,n.createContext)(null),Ae=x((function(e,t){let{target:r,...a}=e,i={ref:X(t)};return n.createElement(Xe.Provider,{value:r},v({ourProps:i,theirProps:a,defaultTag:je,name:"Popover.Group"}))})),He=Object.assign(Oe,{Group:Ae}),Me=(0,n.createContext)(null);function Ie(){let e=(0,n.useContext)(Me);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Ie),e}return e}function $e(){let[e,t]=(0,n.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n.useMemo)((()=>function(e){let r=O((e=>(t((t=>[...t,e])),()=>t((t=>{let r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))))),a=(0,n.useMemo)((()=>({register:r,slot:e.slot,name:e.name,props:e.props})),[r,e.slot,e.name,e.props]);return n.createElement(Me.Provider,{value:a},e.children)}),[t])]}let Ue=x((function(e,t){let r=Ie(),n=`headlessui-description-${L()}`,a=X(t);C((()=>r.register(n)),[n,r.register]);let i=e;return v({ourProps:{ref:a,...r.props,id:n},theirProps:i,slot:r.slot||{},defaultTag:"p",name:r.name||"Description"})})),ze=(0,n.createContext)((()=>{}));ze.displayName="StackContext";var Ve=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ve||{});function We({children:e,onUpdate:t,type:r,element:a}){let i=(0,n.useContext)(ze),l=O(((...e)=>{null==t||t(...e),i(...e)}));return C((()=>(l(0,r,a),()=>l(1,r,a))),[l,r,a]),n.createElement(ze.Provider,{value:l},e)}function qe(e,t,r=!0){let a=(0,n.useRef)(!1);function i(r,n){if(!a.current||r.defaultPrevented)return;let i=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),l=n(r);if(null!==l&&l.ownerDocument.documentElement.contains(l)){for(let e of i){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(l))return}return!function(e,t=0){var r;return e!==(null==(r=ce(e))?void 0:r.body)&&m(t,{0:()=>e.matches(de),1(){let t=e;for(;null!==t;){if(t.matches(de))return!0;t=t.parentElement}return!1}})}(l,he.Loose)&&-1!==l.tabIndex&&r.preventDefault(),t(r,l)}}(0,n.useEffect)((()=>{requestAnimationFrame((()=>{a.current=r}))}),[r]),xe("click",(e=>i(e,(e=>e.target))),!0),xe("blur",(e=>i(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}var Ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ge||{}),Ke=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Ke||{});let Ye={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},Je=(0,n.createContext)(null);function Qe(e){let t=(0,n.useContext)(Je);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Qe),t}return t}function et(e,t){return m(t.type,Ye,e,t)}Je.displayName="DialogContext";let tt=p.RenderStrategy|p.Static,rt=x((function(e,t){let{open:r,onClose:a,initialFocus:i,__demoMode:l=!1,...s}=e,[o,u]=(0,n.useState)(0),c=Z();void 0===r&&null!==c&&(r=m(c,{[N.Open]:!0,[N.Closed]:!1}));let d=(0,n.useRef)(new Set),f=(0,n.useRef)(null),p=X(f,t),h=(0,n.useRef)(null),g=Ee(f),b=e.hasOwnProperty("open")||null!==c,x=e.hasOwnProperty("onClose");if(!b&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof r)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if("function"!=typeof a)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let y=r?0:1,[w,E]=(0,n.useReducer)(et,{titleId:null,descriptionId:null,panelRef:(0,n.createRef)()}),P=O((()=>a(!1))),S=O((e=>E({type:0,id:e}))),D=!!R()&&(!l&&0===y),k=o>1,T=null!==(0,n.useContext)(Je),F=k?"parent":"leaf";(function(e,t=!0){C((()=>{if(!t||!e.current)return;let r=e.current,n=ce(r);if(n){Ce.add(r);for(let e of De.keys())e.contains(r)&&(ke(e),De.delete(e));return n.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of Ce)if(e.contains(t))return;1===Ce.size&&(De.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Re(e))}})),()=>{if(Ce.delete(r),Ce.size>0)n.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!De.has(e)){for(let t of Ce)if(e.contains(t))return;De.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Re(e)}}));else for(let e of De.keys())ke(e),De.delete(e)}}}),[t])})(f,!!k&&D),qe((()=>{var e,t;return[...Array.from(null!=(e=null==g?void 0:g.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(h.current)||w.panelRef.current&&e.contains(w.panelRef.current)))),null!=(t=w.panelRef.current)?t:f.current]}),P,D&&!k),Ne(null==g?void 0:g.defaultView,"keydown",(e=>{e.defaultPrevented||e.key===le.Escape&&0===y&&(k||(e.preventDefault(),e.stopPropagation(),P()))})),(0,n.useEffect)((()=>{var e;if(0!==y||T)return;let t=ce(f);if(!t)return;let r=t.documentElement,n=null!=(e=t.defaultView)?e:window,a=r.style.overflow,i=r.style.paddingRight,l=n.innerWidth-r.clientWidth;if(r.style.overflow="hidden",l>0){let e=l-(r.clientWidth-r.offsetWidth);r.style.paddingRight=`${e}px`}return()=>{r.style.overflow=a,r.style.paddingRight=i}}),[y,T]),(0,n.useEffect)((()=>{if(0!==y||!f.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&P()}));return e.observe(f.current),()=>e.disconnect()}),[y,f,P]);let[_,B]=$e(),j=`headlessui-dialog-${L()}`,A=(0,n.useMemo)((()=>[{dialogState:y,close:P,setTitleId:S},w]),[y,w,P,S]),H=(0,n.useMemo)((()=>({open:0===y})),[y]),M={ref:p,id:j,role:"dialog","aria-modal":0===y||void 0,"aria-labelledby":w.titleId,"aria-describedby":_};return n.createElement(We,{type:"Dialog",element:f,onUpdate:O(((e,t,r)=>{"Dialog"===t&&m(e,{[Ve.Add](){d.current.add(r),u((e=>e+1))},[Ve.Remove](){d.current.add(r),u((e=>e-1))}})}))},n.createElement(_e,{force:!0},n.createElement(He,null,n.createElement(Je.Provider,{value:A},n.createElement(He.Group,{target:f},n.createElement(_e,{force:!1},n.createElement(B,{slot:H,name:"Dialog.Description"},n.createElement(Se,{initialFocus:i,containers:d,features:D?m(F,{parent:Se.features.RestoreFocus,leaf:Se.features.All&~Se.features.FocusLock}):Se.features.None},v({ourProps:M,theirProps:s,slot:H,defaultTag:"div",features:tt,visible:0===y,name:"Dialog"})))))))),n.createElement(ue,{features:oe.Hidden,ref:h}))})),nt=x((function(e,t){let[{dialogState:r,close:a}]=Qe("Dialog.Overlay"),i=X(t),l=`headlessui-dialog-overlay-${L()}`,s=O((e=>{if(e.target===e.currentTarget){if(se(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),a()}}));return v({ourProps:{ref:i,id:l,"aria-hidden":!0,onClick:s},theirProps:e,slot:(0,n.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",name:"Dialog.Overlay"})})),at=x((function(e,t){let[{dialogState:r},a]=Qe("Dialog.Backdrop"),i=X(t),l=`headlessui-dialog-backdrop-${L()}`;(0,n.useEffect)((()=>{if(null===a.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[a.panelRef]);let s=(0,n.useMemo)((()=>({open:0===r})),[r]);return n.createElement(_e,{force:!0},n.createElement(He,null,v({ourProps:{ref:i,id:l,"aria-hidden":!0},theirProps:e,slot:s,defaultTag:"div",name:"Dialog.Backdrop"})))})),it=x((function(e,t){let[{dialogState:r},a]=Qe("Dialog.Panel"),i=X(t,a.panelRef),l=`headlessui-dialog-panel-${L()}`,s=(0,n.useMemo)((()=>({open:0===r})),[r]),o=O((e=>{e.stopPropagation()}));return v({ourProps:{ref:i,id:l,onClick:o},theirProps:e,slot:s,defaultTag:"div",name:"Dialog.Panel"})})),lt=x((function(e,t){let[{dialogState:r,setTitleId:a}]=Qe("Dialog.Title"),i=`headlessui-dialog-title-${L()}`,l=X(t);(0,n.useEffect)((()=>(a(i),()=>a(null))),[i,a]);let s=(0,n.useMemo)((()=>({open:0===r})),[r]);return v({ourProps:{ref:l,id:i},theirProps:e,slot:s,defaultTag:"h2",name:"Dialog.Title"})})),st=Object.assign(rt,{Backdrop:at,Panel:it,Overlay:nt,Title:lt,Description:Ue});var ot=r(18294),ut=r(64062),ct=r(60694),dt=r(85350),mt=r(99263);function ft(){var e=!1,t=[],r=new Set,n={subscribe:function(e){return r.add(e),function(){r.delete(e)}},start:function(n,a){if(e){var i=[];return r.forEach((function(e){i.push((0,dt.d5)(e,n,{transitionOverride:a}))})),Promise.all(i)}return new Promise((function(e){t.push({animation:[n,a],resolve:e})}))},set:function(t){return(0,ct.k)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),r.forEach((function(e){(0,mt.gg)(e,t)}))},stop:function(){r.forEach((function(e){(0,dt.p_)(e)}))},mount:function(){return e=!0,t.forEach((function(e){var t=e.animation,r=e.resolve;n.start.apply(n,(0,ut.ev)([],(0,ut.CR)(t),!1)).then(r)})),function(){e=!1,n.stop()}}};return n}var pt=r(86611);var ht=function(){var e=(0,pt.h)(ft);return(0,n.useEffect)(e.mount,[]),e},vt=r(96962),gt=r(98926);const bt=({onRefreshClick:e})=>{const t=ht();return(0,gt.BX)(u.zx,{variant:"primary",onClick:()=>{e(),t.start({rotate:[0,360],transition:{duration:.4,stiffness:500,damping:10,type:"spring"}})},children:[(0,gt.tZ)(vt.E.div,{animate:t,children:(0,gt.tZ)(ot.P.InProgress24x24,{})}),"Refresh"]})},xt=e=>{const{startDate:t,badges:r}=e;return(0,gt.BX)("div",{className:"flex flex-col gap-2 p-2 bg-white rounded-lg shadow-popover",children:[(0,gt.BX)("p",{className:"text-[0.875rem] leading-[1.125rem]",children:[(0,gt.tZ)("span",{className:"text-[0.875rem] font-semibold",children:"Start Date:"}),(0,gt.BX)("span",{children:[" ",t]})]}),(0,gt.tZ)(u.k,{badges:r})]})},yt=e=>{const{badges:t,children:r,startDate:a}=e,i=(0,n.useMemo)((()=>t.map((e=>({payload:e})))),[t]);return(0,gt.tZ)(u.am,{content:(0,gt.tZ)(xt,{startDate:a,badges:i}),animation:"shift-toward",placement:"bottom",children:r})};var wt=r(61661),Et=r(2524),Nt=r(49516),Zt=r(99068),Pt=r(41874),St=r.n(Pt);const Ct=(0,n.memo)((({name:e,children:t})=>(0,gt.tZ)("div",{className:"px-6 mb-1",children:(0,gt.BX)("div",{className:"flex items-center justify-between",children:[(0,gt.tZ)("div",{className:"flex items-center gap-2",children:(0,gt.tZ)("span",{className:"text-[0.875rem] font-semibold",children:e})}),t]})})));var Dt=r(50358);const Rt=["name","error","children"],kt=(0,n.forwardRef)(((e,t)=>{let{name:r,error:n,children:a}=e,i=(0,Dt.Z)(e,Rt);return(0,gt.BX)("div",Object.assign({className:"mb-4"},i,{children:[(0,gt.BX)("div",{className:"flex items-center justify-between",ref:t,children:[(0,gt.tZ)("span",{className:"text-[0.75rem] font-semibold leading-[0.875rem]",children:r}),(0,gt.tZ)("div",{className:"flex items-center gap-2",children:a})]}),n&&(0,gt.tZ)("span",{className:"text-[0.75rem] leading-[0.875rem] text-text-unexpected",children:n})]}))}));kt.displayName="FormSectionHeader";const Tt=({name:e})=>(0,gt.tZ)("div",{className:"mb-2",children:(0,gt.tZ)("span",{className:"text-[0.6875rem] leading-[0.875rem]",children:e})}),Ft=({children:e})=>(0,gt.BX)(u.xr,{className:"h-screen",children:[(0,gt.tZ)(u.ap,{children:(0,gt.tZ)("div",{className:"w-[768px]",children:e})}),(0,gt.tZ)(u.gb,{orientation:"vertical",forceMount:!0,children:(0,gt.tZ)(u.q4,{})}),(0,gt.tZ)(u.gb,{orientation:"horizontal",children:(0,gt.tZ)(u.q4,{})}),(0,gt.tZ)(u.lj,{})]}),Lt=()=>(0,gt.tZ)("div",{className:"sticky bottom-0 w-full px-6 py-4 mt-2 bg-white",children:(0,gt.tZ)(u.zx,{variant:"primary",type:"submit",className:"w-full",children:"Submit"})}),_t=(e,t)=>e===t,Bt=e=>"PASSED"===e,Ot=(e,t)=>e.every((e=>t.includes(e)));var jt=r(31434);const Xt={verdict:l.T7.String,results:[l.Xm.Passed,l.Xm.Failed,l.Xm.Killed,l.Xm.Cored,l.Xm.Skipped,l.Xm.Faked,l.Xm.Incomplete],runProperties:[l.i4.NotCompromised],resultProperties:[l.Zu.Expected,l.Zu.Unexpected],startDate:(0,jt.Z)(new Date,-93),endDate:new Date},At=["icon","className"],Ht=e=>{let{icon:t,className:r}=e,n=(0,Dt.Z)(e,At);const a=ot.P[t];return(0,gt.tZ)("button",Object.assign({className:(0,u.m6)("rounded bg-bg-body text-bg-compromised hover:bg-primary-wash hover:text-primary",r),type:"button"},n,{children:(0,gt.tZ)(a,{})}))},Mt="component_chakra-grid__1dXM9",It="component_chakra-grid-child__xcYPC",$t="component_run-grid__EMrMn",Ut="component_run-grid-date__39ZE5",zt="component_run-grid-branch__3ZnNk",Vt="component_run-grid-revisions__1TLiA",Wt="component_run-grid-tags__2pQwt",qt="component_grid__1ZOqa",Gt=Zt.Ry().shape({testName:Zt.Z_().required("Test name is required!"),runProperties:Zt.IX().min(1,"Please specify is run compromised or not"),resultProperties:Zt.IX().min(1,"Please specify result type"),results:Zt.IX().min(1,"Please specify obtained results")}),Kt=({onSubmit:e,initialValues:t,onCloseButtonClick:r})=>{const a=(0,Nt.TA)({initialValues:t,onSubmit:e,validationSchema:Gt});(0,n.useEffect)((()=>{var e;const t=e=>{"Enter"===e.key&&e.ctrlKey&&a.submitForm()};return null==(e=document)||e.addEventListener("keydown",t),()=>{var e;return null==(e=document)?void 0:e.removeEventListener("keydown",t)}}),[a]);const{errors:i,touched:s}=a,o=i.resultProperties&&s.resultProperties?i.resultProperties:void 0,c=i.results&&s.results?i.results:void 0,d=i.runProperties&&s.runProperties?i.runProperties:void 0,m=o||c||void 0;return(0,gt.tZ)(Ft,{children:(0,gt.tZ)("div",{className:"flex flex-col gap-2 pt-7",children:(0,gt.BX)("div",{className:"flex flex-col gap-4 bg-white",children:[(0,gt.tZ)(Ct,{name:"Global Search",children:(0,gt.tZ)(Ht,{icon:"Cross12x12",onClick:r,"aria-label":"Close",className:"bg-transparent hover:bg-primary-wash hover:text-primary p-[5.5px]"})}),(0,gt.tZ)(Nt.Hy,{value:a,children:(0,gt.BX)(Nt.l0,{onSubmit:a.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},children:[(0,gt.BX)("div",{className:"flex flex-col gap-2 px-6",children:[(0,gt.BX)("div",{children:[(0,gt.tZ)(kt,{name:"Test",children:(0,gt.tZ)(Ht,{icon:"Bin22x22",onClick:()=>{a.resetForm({values:Object.assign({},a.values,{hash:"",parameters:[]})})}})}),(0,gt.BX)("div",{className:Mt,children:[(0,gt.tZ)(u.nv,{name:"testName",label:"Test name",type:"text",placeholder:"default_bufs"}),(0,gt.tZ)(u.nv,{name:"hash",label:"Hash",type:"text",placeholder:"3c447d65a665c0eee17a0a20827e9"}),(0,gt.tZ)("div",{className:It,children:(0,gt.tZ)(u.Zz,{label:"Parameters",name:"parameters",placeholder:"time_limit:30"})})]})]}),(0,gt.BX)("div",{children:[(0,gt.tZ)(kt,{name:"Run",error:d,children:(0,gt.tZ)(Ht,{icon:"Bin22x22",onClick:()=>{a.resetForm({values:Object.assign({},a.values,{dates:{startDate:St()(Xt.startDate),endDate:St()(Xt.endDate)},revisions:[],runData:[],branches:[],runProperties:Xt.runProperties})})}})}),(0,gt.BX)("div",{className:$t,children:[(0,gt.tZ)("div",{className:`w-full ${Ut}`,children:(0,gt.tZ)(u.B6,{name:"dates",label:"Date",ranges:{"One week":[St()((0,wt.Z)(new Date,-1)),St()()],"Two weeks":[St()((0,wt.Z)(new Date,-2)),St()()],"One month":[St()((0,Et.Z)(new Date,-1)),St()()],"Three months":[St()((0,Et.Z)(new Date,-3)),St()()],"Six months":[St()((0,Et.Z)(new Date,-6)),St()()],"One year":[St()((0,Et.Z)(new Date,-12)),St()()]}})}),(0,gt.tZ)("div",{className:zt,children:(0,gt.tZ)(u.Zz,{name:"branches",label:"Branch",placeholder:"master"})}),(0,gt.tZ)("div",{className:Vt,children:(0,gt.tZ)(u.Zz,{name:"revisions",label:"Revisions",placeholder:"8af383125f20cc5ecdb8393bf"})}),(0,gt.tZ)("div",{className:`w-full ${Wt}`,children:(0,gt.tZ)(u.Zz,{label:"Tags",name:"runData",placeholder:"medford"})})]}),(0,gt.BX)("div",{className:qt,children:[(0,gt.tZ)(u.ji,{iconName:"Compromised16x16",name:"runProperties",value:l.i4.Compromised,label:"Compromised"}),(0,gt.tZ)(u.ji,{iconName:"NotCompromised16x16",name:"runProperties",value:l.i4.NotCompromised,label:"Not compromised"})]})]}),(0,gt.BX)("div",{children:[(0,gt.BX)("div",{className:"mb-4",children:[(0,gt.tZ)(kt,{name:"Result",error:m,style:{marginBottom:0},children:(0,gt.tZ)(Ht,{icon:"Bin22x22",onClick:()=>{a.resetForm({values:Object.assign({},a.values,{results:Xt.results,resultProperties:Xt.resultProperties,verdict:[],verdictLookup:l.T7.String})})}})}),(0,gt.tZ)(Tt,{name:"Result type classification"}),(0,gt.BX)("div",{className:qt,children:[(0,gt.tZ)(u.ji,{iconName:"WarningDanger16x16",name:"resultProperties",value:l.Zu.Unexpected,label:"Unexpected"}),(0,gt.tZ)(u.ji,{iconName:"WarningOk16x16",name:"resultProperties",value:l.Zu.Expected,label:"Expected"}),(0,gt.tZ)(u.ji,{iconName:"WarningInfo16x16",name:"resultProperties",value:l.Zu.NotRun,label:"Not run"})]})]}),(0,gt.BX)("div",{children:[(0,gt.tZ)(Tt,{name:"Obtained result"}),(0,gt.BX)("div",{className:qt,children:[(0,gt.tZ)(u.ji,{iconName:"Passed16x16",name:"results",value:l.Xm.Passed,label:"PASSED"}),(0,gt.tZ)(u.ji,{iconName:"Failed16x16",name:"results",value:l.Xm.Failed,label:"FAILED"}),(0,gt.tZ)(u.ji,{iconName:"Failed16x16",name:"results",value:l.Xm.Killed,label:"KILLED"}),(0,gt.tZ)(u.ji,{iconName:"Failed16x16",name:"results",value:l.Xm.Cored,label:"CORED"}),(0,gt.tZ)(u.ji,{iconName:"Skipped16x16",name:"results",value:l.Xm.Skipped,label:"SKIPPED"}),(0,gt.tZ)(u.ji,{iconName:"Faked16x16",name:"results",value:l.Xm.Faked,label:"FAKED"}),(0,gt.tZ)(u.ji,{iconName:"Failed16x16",name:"results",value:l.Xm.Incomplete,label:"INCOMPLETE"})]})]})]}),(0,gt.BX)("div",{children:[(0,gt.tZ)(kt,{name:"Verdict"}),(0,gt.BX)("div",{className:qt,style:{marginBottom:24},children:[(0,gt.tZ)(u.gu,{name:"verdictLookup",value:l.T7.String,label:"String"}),(0,gt.tZ)(u.gu,{name:"verdictLookup",value:l.T7.Regex,label:"Regex"}),(0,gt.tZ)(u.gu,{name:"verdictLookup",value:l.T7.None,label:"None"})]}),(0,gt.tZ)("div",{className:"w-full",children:(0,gt.tZ)(u.Zz,{label:"String verdict",name:"verdict",placeholder:a.values.verdictLookup===l.T7.String?"Unexpectedly failed with errno ENOPROTOOPT":a.values.verdictLookup===l.T7.Regex?".\\*":"",disabled:a.values.verdictLookup===l.T7.None})})]})]}),(0,gt.tZ)(Lt,{})]})})]})})})};var Yt=r(21373),Jt=r(37122),Qt=r(71428),er=r(13819);const tr=e=>e.join(";"),rr=(e,t=[])=>e?e.split(";"):t,nr=e=>{const t=e.filter((e=>e.isExpression)).map((e=>e.value));return[e.filter((e=>!e.isExpression)).map((e=>e.value)),t]},ar=(e,t=[])=>e?e.split(";").map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e}))):t,ir=({count:e,label:t,resultType:r})=>(0,gt.BX)("div",{className:"flex flex-col justify-between gap-1",children:[(0,gt.BX)("div",{className:"flex items-center justify-start gap-2",children:[(0,gt.tZ)("span",{className:"text-[0.875rem] font-semibold leading-[1.125rem]",children:e}),r?(0,gt.tZ)("div",{className:(0,u.m6)("flex w-fit items-center rounded py-0.5 px-2","expected"===r?"bg-badge-3":"bg-badge-5"),children:(0,gt.tZ)("span",{className:(0,u.m6)("text-[0.6875rem] leading-[0.875rem]","expected"===r?"text-text-expected":"text-text-unexpected"),children:"expected"===r?"Expected":"Unexpected"})}):null]}),(0,gt.tZ)("span",{className:"text-[0.6875rem] leading-[0.875rem] text-text-menu",children:t})]}),lr=(0,n.memo)((e=>{const{runs:t=0,iterations:r=0,results:n=0,expected:a=0,unexpected:i=0}=e;return(0,gt.BX)("div",{className:"flex flex-wrap gap-14",children:[(0,gt.tZ)(ir,{label:"Runs",count:t}),(0,gt.tZ)(ir,{label:"Iterations",count:r}),(0,gt.tZ)(ir,{label:"Test results",count:n}),(0,gt.tZ)(ir,{label:"Expected results",count:a,resultType:"expected"}),(0,gt.tZ)(ir,{label:"Unexpected results",count:i,resultType:"unexpected"})]})})),sr=(0,n.memo)((e=>{const{onModeChange:t,mode:r}=e,a=(0,n.useCallback)((e=>t(e)),[t]),i="linear"===r,l="aggregation"===r;return(0,gt.BX)("div",{className:"flex items-center justify-center border rounded-lg border-border-primary",children:[(0,gt.tZ)(u.u,{content:"List of results",placement:"bottom",animation:"shift-toward",offset:[0,16],children:(0,gt.tZ)("button",{className:(0,u.m6)("grid place-items-center pl-3 pr-1.5 text-border-primary w-full h-full hover:text-primary transition-colors",i&&"text-primary"),onClick:()=>a("linear"),children:(0,gt.tZ)(ot.P.HistoryLinear24x24,{})})}),(0,gt.tZ)(u.u,{content:"Group iterations by verdicts",placement:"bottom",animation:"shift-toward",offset:[0,16],children:(0,gt.tZ)("button",{className:(0,u.m6)("grid place-items-center text-border-primary px-1.5 w-full h-full hover:text-primary transition-colors",l&&"text-primary"),onClick:()=>a("aggregation"),children:(0,gt.tZ)(ot.P.HistoryAggregation24x24,{})})}),(0,gt.tZ)(u.u,{content:"Comparison charts",placement:"bottom",animation:"shift-toward",offset:[0,16],children:(0,gt.tZ)("button",{className:"grid place-items-center pr-3 pl-1.5 text-border-primary w-full h-full cursor-not-allowed",children:(0,gt.tZ)(ot.P.HistoryChart24x24,{})})})]})})),or=e=>{const{substringBadges:t,onSubstringChange:r}=e;return(0,gt.tZ)("div",{className:"w-1/5",children:(0,gt.tZ)(u.ef,{name:"substringFilter",placeholder:"Substring filter",onBadgesChange:r,badges:t,icon:(0,gt.tZ)(ot.P.MagnifyingGlass24x24,{className:"grid place-items-center text-primary"})})})},ur=e=>(0,gt.tZ)(u.zx,Object.assign({variant:"header"},e,{children:(0,gt.BX)("div",{className:"flex items-center gap-2",children:[(0,gt.tZ)(ot.P.GlobalSearch24x24,{className:"grid place-items-center"}),(0,gt.tZ)("span",{className:"text-[0.875rem] leading-[1.5rem]",children:"Global Search"})]})})),cr=()=>{const{filteredParameters:e,filteredRunData:t,filteredObtained:r}=(0,c.xL)(c.j5),{filteredParams:a,filteredResults:l}=(0,c.xL)(c.S7),[u,m]=(0,o.XN)(),f=(0,i.TH)().state,[p,h]=(0,n.useState)(!1),v=()=>h(!1),g=()=>h(!0),b=(0,n.useCallback)((e=>{v();const t=Object.assign({},(e=>{const{testName:t,hash:r,parameters:n,runData:a,dates:i,runProperties:l,resultProperties:s,results:o,verdictLookup:u,verdict:c,branches:d,revisions:m}=e,[f,p]=nr(n),[h,v]=nr(a),[g,b]=nr(d),[x,y]=nr(m),[w,E]=nr(c),N=p.concat(v).concat(b).concat(y).concat(E).join("&"),Z=i.startDate?(0,Jt.Z)(i.startDate.toDate(),Yt.yJ):"",P=i.endDate?(0,Jt.Z)(i.endDate.toDate(),Yt.yJ):"";return(0,er.decamelizeKeys)({testName:t,hash:r,startDate:Z,finishDate:P,parameters:tr(f),runData:tr(h),runDataExpr:N,branches:tr(g),revisions:tr(x),runProperties:tr(l),resultProperties:tr(s),results:tr(o),verdict:tr(w),verdictLookup:u},{separator:"_"})})(e),{page:"1",pageSize:u.pageSize});m(t)}),[m,u.pageSize]),x=(0,n.useMemo)((()=>{const n=(e=>{const{testName:t,hash:r,parameters:n,runData:a,startDate:i,finishDate:l,runProperties:s,resultProperties:o,results:u,verdictLookup:c,verdict:m,branches:f,revisions:p,runDataExpr:h}=e,v=rr(a).map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e}))),g=rr(h).map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e,isExpression:!0}))),b=i?St()((0,Qt.Z)(i,Yt.yJ,new Date)):St()(Xt.startDate),x=l?St()((0,Qt.Z)(l,Yt.yJ,new Date)):St()(new Date);return{testName:t||"",hash:r||"",parameters:ar(n,[]),revisions:ar(p,[]),branches:ar(f,[]),runData:[...g,...v],dates:{startDate:b,endDate:x},runProperties:rr(s,Xt.runProperties),resultProperties:rr(o,Xt.resultProperties),results:rr(u,Xt.results),verdictLookup:c||Xt.verdict,verdict:ar(m,[])}})(u),i=n.runData.map((e=>e.value)).concat(t),s=n.verdict.map((e=>e.value)).concat(r).concat(l),o=n.parameters.map((e=>e.value)).concat(e).concat(a),c=Array.from(new Set(o)).filter((t=>{const r=e.includes(t),n=a.includes(t);return r&&n})),m=Array.from(new Set(i)).filter((e=>t.includes(e))),f=Array.from(new Set(s)).filter((e=>{const t=r.includes(e),n=l.includes(e);return t&&n}));n.parameters=c.map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e})));const p=m.map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e}))),h=n.runData.filter((e=>e.isExpression));return n.runData=[...h,...p],n.verdict=f.map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e}))),n}),[r,e,a,l,t,u]),y=(null==f?void 0:f.fromRun)||!(null!=u&&u.testName)||(null==u?void 0:u.fromRun);return(0,n.useEffect)((()=>{y&&g()}),[y]),(0,s.Kr)("Escape",(()=>{p&&v()}),[p]),(0,gt.BX)(gt.HY,{children:[(0,gt.tZ)(ur,{onClick:g}),(0,gt.tZ)(ie,{appear:!0,show:p,as:n.Fragment,children:(0,gt.BX)(st,{as:"div",className:"relative z-50",open:p,onClose:()=>h(!1),children:[(0,gt.tZ)(ie.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,gt.tZ)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-5"})}),(0,gt.tZ)(ie.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"right-[-100%]",enterTo:"right-0",leave:"ease-in duration-200",leaveFrom:"right-0",leaveTo:"right-[-100%]",children:(0,gt.tZ)(st.Panel,{className:"fixed top-0 z-50 h-screen bg-white",children:(0,gt.tZ)(Kt,{initialValues:x,onSubmit:b,onCloseButtonClick:v})})})]})})]})},dr=({label:e,value:t,iconName:r})=>{const n=ot.P[r];return(0,gt.BX)("div",{className:"flex items-center justify-center gap-2 px-2.5 py-1.5 rounded border border-border-primary",children:[(0,gt.BX)("div",{className:"flex items-center gap-1.5 flex-shrink-0 text-text-menu ",children:[(0,gt.tZ)(n,{className:"grid place-items-center text-text-menu"}),(0,gt.BX)("span",{className:"text-[0.75rem] font-semibold leading-[0.875rem] text-text-secondary",children:[e,":"]})]}),(0,gt.tZ)("div",{className:"flex flex-wrap items-center gap-3",children:t?Array.isArray(t)?t.map((e=>(0,gt.tZ)(u.Ct,{className:"bg-primary-wash text-[0.6875rem] leading-[0.875rem] text-text-secondary",children:e},e))):(0,gt.tZ)(u.Ct,{className:"bg-primary-wash text-[0.6875rem] leading-[0.875rem] text-text-secondary",children:t}):(0,gt.tZ)(u.Ct,{className:"bg-primary-wash text-[0.6875rem] leading-[0.875rem] text-text-secondary",children:"\u2014"})})]})};dr.displayName="LegendItem";const mr=(0,n.memo)((({items:e})=>(0,gt.tZ)("div",{className:"flex flex-wrap items-center gap-4",children:e.map((({label:e,iconName:t,value:r})=>(0,gt.tZ)(dr,{label:e,iconName:t,value:r},e)))})));mr.displayName="HistoryLegend";const fr=e=>e.split(";"),pr=()=>{const[e]=(0,o.XN)(),t=(0,n.useMemo)((()=>{const{testName:t,date:r,hash:n,results:a,branches:i,revisions:l,expression:s,runProperties:o,resultProperties:u,verdictLookup:c,verdict:d}=(e=>{var t,r;const n=null!=(t=e.testName)?t:null,a=e.startDate&&e.finishDate?`${e.startDate} \u2014 ${e.finishDate}`:null,i=null!=(r=e.hash)?r:null,l=e.branches?fr(e.branches):null,s=e.revisions?fr(e.revisions):null,o=e.runDataExpr,u=e.runProperties?fr(e.runProperties):null,c=e.resultProperties?fr(e.resultProperties):null;return{testName:n,date:a,hash:i,results:e.results?fr(e.results):null,branches:l,revisions:s,expression:o,resultProperties:c,runProperties:u,verdictLookup:e.verdictLookup,verdict:e.verdict?fr(e.verdict):null}})(e);return[{iconName:"Document24x24",label:"Test name",value:t},{iconName:"Calendar24x24",label:"Date",value:r},{iconName:"Hash24x24",label:"Hash",value:n},{iconName:"ObtainedResult24x24",label:"Obtained result",value:a},{iconName:"DocumentSecondary24x24",label:"Branches",value:i},{iconName:"DocumentSecondary24x24",label:"Revisions",value:l},{iconName:"DocumentSecondary24x24",label:"Tags expressions",value:s},{iconName:"DocumentSecondary24x24",label:"Run",value:o},{iconName:"DocumentSecondary24x24",label:"Result type classification",value:u},{iconName:"DocumentSecondary24x24",label:"Verdict mode",value:c},{iconName:"DocumentSecondary24x24",label:"Verdict value",value:d}]}),[e]);return(0,gt.tZ)(mr,{items:t})};var hr=r(25673);const vr=()=>{const[e]=(0,o.XN)(),{data:t}=hr.Ul.endpoints.getHistoryLinear.useQueryState(e,{selectFromResult:({data:e})=>({data:null==e?void 0:e.counts})}),{data:r}=hr.Ul.endpoints.getHistoryAggregation.useQueryState(e,{selectFromResult:({data:e})=>({data:null==e?void 0:e.counts})}),a=(0,n.useMemo)((()=>e.mode&&"linear"!==e.mode||!t?"aggregation"===e.mode&&r?r:{expected_results:0,iterations:0,runs:0,total_results:0,unexpected_results:0}:t),[r,t,e.mode]);return(0,gt.tZ)(lr,{runs:a.runs,iterations:a.iterations,results:a.total_results,expected:a.expected_results,unexpected:a.unexpected_results})};r(90142),r(40697),r(94641),r(12213),r(3107),r(75044);var gr=r(45502),br=r(54231);const xr=e=>{const t=(0,a.I0)(),[r,i]=(0,n.useState)(e);(0,n.useEffect)((()=>{i(e)}),[e]);return{filters:r,updateFilters:(e,n,a)=>{if(r[n].includes(e)){const l=Object.assign({},r,{[n]:r[n].filter((t=>t!==e))});i(l),t("linear"===a?(0,c.EM)(l):(0,c.iN)(l))}else{const l=Object.assign({},r,{[n]:[...r[n],e]});i(l),t("linear"===a?(0,c.EM)(l):(0,c.iN)(l))}},checkIfFilterHasValue:(e,t)=>r[t].includes(e)}},yr={headerRow:{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",height:"40px"},header:{position:"sticky",top:0},bodyRow:{padding:"12px 0",border:"1px solid transparent",backgroundColor:"#ffffff",transition:"all 0.2s ease","&:hover":{border:"1px solid",borderColor:"#627efb"}}},wr=()=>{(0,s.jr)("History - Aggregation - Bublik");const e=(0,c.xL)(c.S7),t=(0,c.xL)(c.B0),r=(0,c.xL)(c.uC),a=(0,c.xL)(c.rF),[i,d]=(0,o.XN)(),{data:m,isFetching:f,isError:p,error:h}=(0,hr.k4)(i),{filters:{filteredParams:v,filteredResults:g,filteredHash:b},updateFilters:x,checkIfFilterHasValue:y}=xr(e),w=(0,n.useMemo)((()=>m?m.results.filter((e=>{const t=e.parameters,n=e.results_by_verdicts.reduce(((e,t)=>[...e,...t.verdict]),[]),a=[e.hash],i=v.every((e=>t.includes(e))),s=g.every((e=>n.includes(e))),o=g.map((e=>new RegExp(e))).every((e=>n.every((t=>t&&t.match(e))))),u=b.every((e=>a.includes(e)));switch(r){case l.T7.String:return u&&i&&s;case l.T7.Regex:return u&&i&&o;case l.T7.None:default:return!0}})):[]),[m,b,v,g,r]),E=(0,n.useCallback)(((e,t,r)=>e.filter((e=>!r.length||r.some((t=>{const r=e.original.hash.includes(t),n=e.original.parameters.some((e=>e.includes(t))),a=e.original.results_by_verdicts.reduce(((e,t)=>[...e,...t.verdict]),[]).some((e=>null==e?void 0:e.includes(t)));return n||a||r}))))),[]),N=(0,n.useMemo)((()=>[{Header:"Parameters / Hash",accessor:({parameters:e,hash:t})=>({parameters:e,hash:t}),Cell:({value:e})=>{const{parameters:t,hash:r}=e,n=t.find((e=>e.startsWith("env=")));return(0,gt.BX)("div",{className:"flex flex-col gap-1",children:[(0,gt.tZ)("div",{children:n&&(0,gt.tZ)(u.lA,{value:n.split("=")[1],isSelected:y(n,"filteredParams"),onContentClick:()=>x(n,"filteredParams","aggregation")})}),(0,gt.tZ)("div",{className:"flex flex-wrap gap-1",children:t.filter((e=>!e.startsWith("env="))).map((e=>(0,gt.tZ)("div",{style:{cursor:"pointer"},children:(0,gt.tZ)(u.Ct,{className:"bg-badge-1",isSelected:y(e,"filteredParams"),onClick:()=>x(e,"filteredParams","aggregation"),children:e})},e)))}),(0,gt.tZ)("div",{className:"w-min py-0.5 px-1.5 rounded bg-primary-wash cursor-pointer border "+(y(r,"filteredHash")?"border-primary":"border-transparent"),onClick:()=>x(r,"filteredHash","aggregation"),children:r})]})},columnCSS:{paddingLeft:"24px"},maxWidth:400,disableSortBy:!0},{Header:"Results / Logs",accessor:e=>e.results_by_verdicts,Cell:({value:e})=>(0,gt.tZ)("div",{className:"flex flex-col gap-1",children:e.map(((e,t)=>{const r=e.has_error?(0,gt.tZ)(u.Ct,{variant:"unexpected",children:"FAILED"}):(0,gt.tZ)(u.Ct,{variant:"expected",children:"PASSED"});return(0,gt.BX)(n.Fragment,{children:[(0,gt.tZ)("div",{className:"flex",children:r}),e.verdict.map((e=>(0,gt.tZ)("div",{style:{cursor:"pointer"},children:(0,gt.tZ)(u.Ct,{variant:"transparent",isSelected:y(e,"filteredResults"),onClick:()=>x(e,"filteredResults","aggregation"),children:e})},e))),(0,gt.tZ)("div",{className:"flex flex-wrap gap-1",children:e.results_data.map(((e,t)=>(0,gt.tZ)(yt,{badges:e.relevant_tags,startDate:e.start_date,children:(0,gt.tZ)(gr.rU,{to:o._j.log({runId:e.run_id,focusId:e.result_id}),state:{fromHistory:!0},children:(0,gt.tZ)(u.Ct,{variant:"primary",children:t+1})})},e.result_id)))})]},e.key)}))}),sortType:(e,t)=>{const r=e.original.results_by_verdicts;return Object.values(r).some((e=>e.has_error))?1:-1},columnCSS:{paddingRight:"24px",paddingLeft:"100px"}}]),[y,x]),Z=(0,n.useMemo)((()=>(0,gt.tZ)(u.$j,{className:"h-[75vh]"})),[]),P=(0,n.useMemo)((()=>{const e=null==h?void 0:h.status;return(0,gt.tZ)(u.rJ,{header:`${e}`||"Something went wrong",message:(0,br.e$)(e)})}),[h]);return f||null!=m&&m.results.length?(0,gt.BX)("main",{children:[(0,gt.tZ)("div",{className:"mb-2",children:(0,gt.tZ)(u.iA,{columns:N,data:w,isFetching:f,isError:p,errorComponent:P,spinner:Z,emotionBaseTableCSS:yr,globalFilter:E,globalFilterValue:t,autoResetSortBy:!1,headerShadow:!0})}),(0,gt.tZ)("div",{className:"flex items-center justify-center",children:m&&(0,gt.tZ)(u.tl,{currentPage:i.page?parseInt(i.page):1,totalCount:m.pagination.count,pageSize:a,onPageSizeChange:e=>{d({pageSize:e})},siblingCount:1,onPageChange:e=>{d({page:e.toString()})}})})]}):(0,gt.tZ)(u.rJ,{header:"No results found",message:"Looks like no results found."})};var Er=r(56712);const Nr="MMM dd yyyy, HH:mm:ss.SSS",Zr=(e,t)=>{const r=e.original.start_date,n=t.original.start_date;if((0,br.Rp)(r,Nr)&&(0,br.Rp)(n,Nr)){const e=(0,Qt.Z)(r,Nr,new Date),t=(0,Qt.Z)(n,Nr,new Date);return e.getTime()>t.getTime()?1:-1}return console.error("Something wrong with start date, parsing failed"),1},Pr=(e,t)=>{const r=e.original.expected_result.result_type;return Bt(r)?1:-1},Sr=e=>{const{resultId:t,runId:r,important:n,tags:a,expectedResult:i,obtainedResult:s,parameters:c,hasMeasurements:d}=e,[m]=(0,o.XN)(),f=[...n,...a].join(";"),p=c.join(";"),h=Bt(s.result_type)?l.Xm.Passed:l.Xm.Failed,v=s.verdict.join(";"),g=_t(i.result_type,s.result_type)?l.Zu.Expected:l.Zu.Unexpected,b={testName:m.testName,mode:m.mode,runData:f,parameters:p,results:h,verdict:v,runProperties:m.runProperties,resultProperties:g,hash:m.hash,startDate:m.startDate,finishDate:m.finishDate,pageSize:m.pageSize,verdictLookup:l.T7.String,page:"1"},x=(0,o.X6)(b);return(0,gt.BX)("div",{className:"flex flex-col gap-1",children:[(0,gt.tZ)(u.rU,{variant:u.CT.Primary,iconLeft:"EscapeRight20x20",className:"justify-start w-fit",to:o._j.log({runId:r,focusId:t,mode:"infoAndlog"}),children:"Log"}),(0,gt.tZ)(u.rU,{variant:u.CT.Primary,iconLeft:"EscapeRight20x20",className:"justify-start w-fit",to:`/runs/${r}`,children:"Run"}),(0,gt.tZ)(u.rU,{variant:u.CT.Primary,iconLeft:"EscapeRight20x20",className:"justify-start w-fit",to:`/history${x}`,children:"History"}),d&&(0,gt.tZ)(u.rU,{variant:u.CT.Primary,iconLeft:"EscapeRight20x20",className:"justify-start w-fit",to:`/runs/${r}/results/${t}/measurements`,children:"Measure"})]})},Cr=({dateTime:e,duration:t})=>{const[r,n]=e.split(",");return(0,gt.BX)("div",{className:"flex flex-col gap-1",children:[(0,gt.tZ)("span",{className:"font-semibold",children:r}),(0,gt.tZ)("span",{children:`${n}, [${t}]`})]})},Dr=({metadata:e,selectedMeta:t,onMetaClick:r})=>(0,gt.tZ)(u.k,{badges:e,selectedBadges:t,onBadgeClick:r,className:"bg-badge-4"}),Rr={headerRow:{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",height:"40px",padding:"0 16px"},header:{position:"sticky",top:0,zIndex:1},bodyRow:{padding:"12px 16px",border:"1px solid transparent",backgroundColor:"#ffffff",transition:"all 0.2s ease","&:hover":{border:"1px solid",borderColor:"#627efb"}}},kr=()=>{(0,s.jr)("History - Linear - Bublik");const e=(0,a.I0)(),[t,r]=(0,o.XN)(),d=(0,c.xL)(c.j5),m=(0,c.xL)(c.rF),f=(0,c.xL)(c.VH),p=(0,c.xL)(c.uC),h=(0,c.xL)(c.fk),v=(0,c.xL)(c.B0),{filters:g,checkIfFilterHasValue:b,updateFilters:x}=xr(d),y=(0,i.TH)().state,{data:w,isFetching:E,isError:N,error:Z}=(0,hr.m6)(null!=y&&y.fromRun||null!=t&&t.fromRun?Er.skipToken:t),P=(0,n.useMemo)((()=>{if(w){return w.results.filter((e=>{const t=e.important_tags,r=e.relevant_tags,n=e.metadata,a=e.obtained_result.verdict,i=e.expected_result.result_type,s=e.obtained_result.result_type,o=e.parameters,u=[...t,...r,...n],c=Ot(g.filteredRunData,u),d=Ot(g.filteredObtained,a),m=g.filteredObtained.map((e=>new RegExp(e))).every((e=>a.every((t=>t.match(e))))),v=Ot(g.filteredParameters,o),b=_t(i,s)?l.Zu.Expected:l.Zu.Unexpected,x=Bt(s)?l.Xm.Passed:l.Xm.Failed,y=!f||!h||b===f&&x===h;switch(p){case l.T7.String:return c&&d&&v&&y;case l.T7.Regex:return c&&m&&v&&y;case l.T7.None:default:return!0}}))}return[]}),[h,f,w,g.filteredObtained,g.filteredParameters,g.filteredRunData,p]),S=(0,n.useCallback)(((t,r)=>{f===t&&h===r?(e((0,c.HV)(null)),e((0,c.oG)(null))):(e((0,c.HV)(t)),e((0,c.oG)(r)))}),[h,f,e]),C=(0,n.useCallback)(((e,t,r)=>e.filter((e=>r.length?r.some((t=>{const r=e.original,n=r.start_date.includes(t),a=r.important_tags.some((e=>e.includes(t))),i=r.metadata.some((e=>e.includes(t))),l=r.relevant_tags.some((e=>e.includes(t))),s=r.expected_result.verdict.some((e=>e.includes(t))),o=r.obtained_result.verdict.some((e=>e.includes(t))),u=Object.entries(r.parameters).map((([e,t])=>`${e}:${t}`)).some((e=>e.includes(t)));return n||a||i||l||s||o||u})):e))),[]),D=(0,n.useMemo)((()=>[{Header:"Actions",id:"links expander",accessor:e=>({runId:e.run_id,iterationId:e.iteration_id,resultId:e.result_id,important:e.important_tags,tags:e.relevant_tags,obtainedResult:e.obtained_result,expectedResult:e.expected_result,parameters:e.parameters,hasMeasurements:e.has_measurements}),Cell:({value:e})=>(0,gt.tZ)(Sr,Object.assign({},e)),maxWidth:90,minWidth:60,disableSortBy:!0},{Header:()=>(0,gt.BX)("div",{className:"flex items-center gap-1",children:[(0,gt.tZ)(u.u,{content:"Timezone: UTC",children:(0,gt.tZ)(ot.P.InfoCircleQuestionMark16x16,{className:"flex items-center justify-center text-primary"})}),(0,gt.tZ)("span",{children:"Start [Duration]"})]}),id:"start-duration",accessor:e=>e.start_date,Cell:e=>(0,gt.tZ)(Cr,{dateTime:e.value,duration:e.row.original.duration}),sortType:Zr,maxWidth:205,minWidth:180,width:200,columnCSS:{paddingLeft:"32px",paddingRight:"8px"}},{Header:"Metadata",accessor:e=>e.metadata.map((e=>({payload:e}))),Cell:e=>(0,gt.tZ)(Dr,{metadata:e.value,selectedMeta:g.filteredRunData,onMetaClick:e=>x(e.payload,"filteredRunData","linear")}),maxWidth:180,disableSortBy:!0,columnCSS:{paddingRight:"8px"}},{Header:"Tags",accessor:e=>{const t=e.relevant_tags.map((e=>({payload:e})));return[...e.important_tags.map((e=>({payload:e,isImportant:!0}))),...t]},Cell:e=>(0,gt.tZ)(u.k,{badges:e.value,selectedBadges:g.filteredRunData,onBadgeClick:e=>x(e.payload,"filteredRunData","linear")}),columnCSS:{paddingRight:"8px"},disableSortBy:!0},{Header:"Expected Results",accessor:e=>e.expected_result,Cell:e=>{const t=e.value.result_type,r=e.value.verdict;return(0,gt.tZ)(u.pH,{variant:"expected",result:t,verdicts:r})},sortType:Pr,maxWidth:280,sortDescFirst:!0,sortInverted:!0,columnCSS:{paddingRight:"8px"}},{Header:"Obtained Results",accessor:e=>({obtained:e.obtained_result,expected:e.expected_result,isNotExpected:e.has_error}),Cell:e=>{const t=e.value.expected.result_type,r=e.value.obtained.result_type,n=_t(t,r),a=Bt(r),i=n?l.Zu.Expected:l.Zu.Unexpected,s=a?l.Xm.Passed:l.Xm.Failed,o=f===i&&h===s;return(0,gt.tZ)(u.pH,{variant:"obtained",result:e.value.obtained.result_type,isResultSelected:o,verdicts:e.value.obtained.verdict,selectedVerdicts:g.filteredObtained,onResultClick:e=>S(i,s),onVerdictClick:e=>x(e,"filteredObtained","linear"),isNotExpected:e.value.isNotExpected})},sortType:Pr,maxWidth:280,sortDescFirst:!0,sortInverted:!0,columnCSS:{paddingRight:"8px"}},{Header:"Parameters",accessor:e=>e.parameters,Cell:e=>{const t=e.value.filter((e=>!e.startsWith("env="))),r=e.value.find((e=>e.startsWith("env=")));return(0,gt.BX)("div",{className:"flex flex-col items-start gap-1",children:[r&&(0,gt.tZ)(u.lA,{value:r.split("=")[1],isSelected:b(r,"filteredParameters"),onContentClick:()=>x(r,"filteredParameters","linear")}),(0,gt.tZ)("div",{className:"flex flex-wrap gap-1",children:t.map((e=>(0,gt.tZ)(u.Ct,{className:"bg-badge-1",isSelected:b(e,"filteredParameters"),onClick:()=>x(e,"filteredParameters","linear"),children:e},e)))})]})},disableSortBy:!0}]),[g.filteredRunData,g.filteredObtained,x,f,h,S,b]),R=(0,n.useMemo)((()=>(0,gt.tZ)(u.$j,{className:"h-[75vh]"})),[]),k=(0,n.useMemo)((()=>{const e=null==Z?void 0:Z.status;return(0,gt.tZ)(u.rJ,{header:`${e}`||"Something went wrong",message:(0,br.e$)(e)})}),[Z]);return E||null!=w&&w.results.length?(0,gt.BX)("main",{children:[(0,gt.tZ)("div",{className:"mb-2",children:(0,gt.tZ)(u.iA,{columns:D,data:P,isFetching:E,isError:N,errorComponent:k,spinner:R,emotionBaseTableCSS:Rr,globalFilter:C,globalFilterValue:v,autoResetSortBy:!1,headerShadow:!0})}),(0,gt.tZ)("div",{className:"flex items-center justify-center",children:w&&(0,gt.tZ)(u.tl,{currentPage:t.page?parseInt(t.page):1,totalCount:w.pagination.count,pageSize:m,onPageSizeChange:e=>{r(Object.assign({},t,{pageSize:e}))},siblingCount:1,onPageChange:e=>{r(Object.assign({},t,{page:e.toString()}))}})})]}):(0,gt.tZ)(u.rJ,{header:"No results found",message:"Looks like no results found."})};var Tr=r(16559);const Fr=()=>{const e=(0,c.xL)(c.d5),[,t]=(0,o.XN)(),r=(0,n.useCallback)((e=>t((t=>(0,Tr.ZP)(t,(t=>{t.page="1",t.mode=e}))))),[t]);return(0,gt.tZ)(sr,{mode:e,onModeChange:r})},Lr=()=>{const e=(0,a.I0)(),t=(0,c.xL)(c.d5),r=(0,c.xL)(c.j5),i=(0,c.xL)(c.S7),l=(0,c.xL)(c.VH),s=(0,c.xL)(c.fk),[u,d]=(0,o.XN)(),m=(0,n.useCallback)((()=>{if(e(hr.Ul.util.invalidateTags([hr.o_.HistoryData])),"linear"===t){const e=Array.from(new Set([...r.filteredRunData])).join(";"),t=Array.from(new Set(r.filteredObtained)).join(";"),n=Array.from(new Set(r.filteredParameters)).join(";"),a=l||(null==u?void 0:u.resultProperties)||Yt.zu.join(";");d(Object.assign({},u,{resultProperties:a,results:s||(u.results?u.results:Yt.CH.join(";")),runData:e,verdict:t,parameters:n,page:"1"}))}if("aggregation"===t){const e=Array.from(new Set(i.filteredParams)).join(";"),t=Array.from(new Set(i.filteredResults)).join(";"),r=Array.from(new Set(i.filteredHash));d(Object.assign({},u,{verdict:t,parameters:e,hash:r[0],page:"1"}))}}),[e,r.filteredObtained,r.filteredParameters,r.filteredRunData,i.filteredHash,i.filteredParams,i.filteredResults,s,l,t,u,d]);return(0,gt.tZ)(bt,{onRefreshClick:m})},_r=()=>{const e=(0,a.I0)(),t=(0,c.xL)(c.B0),r=(0,n.useCallback)((t=>{e((0,c.V$)(t.map((e=>e.value))))}),[e]),i=(0,n.useMemo)((()=>t.map((e=>({id:(0,d.nanoid)(4),value:e,originalValue:e})))),[t]);return(0,gt.tZ)(or,{substringBadges:i,onSubstringChange:r})},Br=()=>(0,gt.BX)("header",{className:"flex flex-col gap-4 px-6 py-4 mb-1 bg-white rounded-t-xl",children:[(0,gt.BX)("div",{className:"flex flex-wrap justify-between gap-4",children:[(0,gt.tZ)(_r,{}),(0,gt.BX)("div",{className:"flex gap-4",children:[(0,gt.tZ)(cr,{}),(0,gt.tZ)(Lr,{}),(0,gt.tZ)(Fr,{})]})]}),(0,gt.tZ)(vr,{}),(0,gt.tZ)(pr,{})]}),Or=()=>{(0,s.jr)("History - Bublik");const e=(0,a.I0)(),t=(0,c.xL)(c.d5),[r]=(0,o.XN)(),d=(0,i.TH)();return(0,n.useEffect)((()=>{if(e((0,c.NP)()),r.mode&&e((0,c.aP)(r.mode)),r.verdict||r.parameters||r.runData||r.hash){var t,n,a;const i=r.hash?[r.hash]:[],l=(null==(t=r.verdict)?void 0:t.split(";").filter((e=>e)))||[],s=(null==(n=r.parameters)?void 0:n.split(";").filter((e=>e)))||[],o=(null==(a=r.runData)?void 0:a.split(";").filter((e=>e)))||[];e((0,c.EM)({filteredRunData:o,filteredObtained:l,filteredParameters:s})),e((0,c.iN)({filteredParams:s,filteredResults:l,filteredHash:i}))}if(r.results===l.Xm.Passed||r.results===l.Xm.Failed){const t=r.results===l.Xm.Passed?l.Xm.Passed:l.Xm.Failed;e((0,c.oG)(t))}r.pageSize&&e((0,c.vN)(r.pageSize)),r.verdictLookup&&e((0,c.vF)(r.verdictLookup))}),[e,d,r]),d.search&&"?mode=aggregation"!==d.search&&"?mode=linear"!==d.search?(0,gt.BX)("div",{className:"flex flex-col p-2",children:[(0,gt.tZ)(Br,{}),"linear"===t&&(0,gt.tZ)(kr,{}),"aggregation"===t&&(0,gt.tZ)(wr,{}),(0,gt.tZ)(u.uv,{offset:191})]}):(0,gt.BX)("div",{className:"flex flex-col p-2",children:[(0,gt.tZ)(Br,{}),(0,gt.tZ)(u.rJ,{header:"Please fill out global search form",message:"Test name not found"}),(0,gt.tZ)(u.uv,{offset:158})]})}},76306:(e,t,r)=>{var n=r(72313),a=r(44400),i=r(23551);e.exports=function(e,t,r){var l,s;return i&&n(l=t.constructor)&&l!==r&&a(s=l.prototype)&&s!==r.prototype&&i(e,s),e}},25812:(e,t,r)=>{var n=r(86061).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},40697:(e,t,r)=>{var n=r(73738),a=r(89567),i=r(90056),l=r(8135),s=r(76306),o=r(23644),u=r(72203).f,c=r(70893),d=r(29113),m=r(52761),f=r(63507),p=r(49441),h=r(25812),v=r(27402),g=r(27937),b=r(17402),x=r(4236).enforce,y=r(82797),w=r(78950),E=r(38316),N=r(92857),Z=w("match"),P=a.RegExp,S=P.prototype,C=a.SyntaxError,D=i(S.exec),R=i("".charAt),k=i("".replace),T=i("".indexOf),F=i("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,_=/a/g,B=/a/g,O=new P(_)!==_,j=p.MISSED_STICKY,X=p.UNSUPPORTED_Y,A=n&&(!O||j||E||N||g((function(){return B[Z]=!1,P(_)!=_||P(B)==B||"/a/i"!=P(_,"i")})));if(l("RegExp",A)){for(var H=function(e,t){var r,n,a,i,l,u,p=c(S,this),h=d(e),v=void 0===t,g=[],y=e;if(!p&&h&&v&&e.constructor===H)return e;if((h||c(S,e))&&(e=e.source,v&&(t=f(y))),e=void 0===e?"":m(e),t=void 0===t?"":m(t),y=e,E&&"dotAll"in _&&(n=!!t&&T(t,"s")>-1)&&(t=k(t,/s/g,"")),r=t,j&&"sticky"in _&&(a=!!t&&T(t,"y")>-1)&&X&&(t=k(t,/y/g,"")),N&&(i=function(e){for(var t,r=e.length,n=0,a="",i=[],l={},s=!1,o=!1,u=0,c="";n<=r;n++){if("\\"===(t=R(e,n)))t+=R(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:D(L,F(e,n+1))&&(n+=2,o=!0),a+=t,u++;continue;case">"===t&&o:if(""===c||b(l,c))throw new C("Invalid capture group name");l[c]=!0,i[i.length]=[c,u],o=!1,c="";continue}o?c+=t:a+=t}return[a,i]}(e),e=i[0],g=i[1]),l=s(P(e,t),p?this:S,H),(n||a||g.length)&&(u=x(l),n&&(u.dotAll=!0,u.raw=H(function(e){for(var t,r=e.length,n=0,a="",i=!1;n<=r;n++)"\\"!==(t=R(e,n))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),a+=t):a+="[\\s\\S]":a+=t+R(e,++n);return a}(e),r)),a&&(u.sticky=!0),g.length&&(u.groups=g)),e!==y)try{o(l,"source",""===y?"(?:)":y)}catch(w){}return l},M=u(P),I=0;M.length>I;)h(H,P,M[I++]);S.constructor=H,H.prototype=S,v(a,"RegExp",H,{constructor:!0})}y("RegExp")}}]);