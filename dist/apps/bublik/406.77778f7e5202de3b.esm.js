(self.webpackChunk=self.webpackChunk||[]).push([[406],{37406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Je});var a=r(52983),s=r(67182),l=r(56712),n=r(35562),o=r(69175),i=r(56403),d=r(56880),c=(r(90142),r(95197));let u;!function(e){e.Tree="TREE",e.Total="TOTAL",e.Run="RUN",e.PassedExpected="PASSED_EXPECTED",e.FailedExpected="FAILED_EXPECTED",e.PassedUnexpected="PASSED_UNEXPECTED",e.FailedUnexpected="FAILED_UNEXPECTED",e.Aborted="ABORTED",e.NotRun="NOT_RUN",e.SkippedExpected="SKIPPED_EXPECTED",e.SkippedUnexpected="SKIPPED_UNEXPECTED"}(u||(u={}));r(75751),r(67859);var p=r(40817);r(3107);const m=(e,t,r)=>!r.length||(e=>t=>{var r;return!e.some((r=t.id,e=>r.startsWith(e.rowId)))||e.map((e=>e.columnId)).some((e=>!!t.getValue(e)))})(r)(e);r(14209);var h=r(32642);const b=e=>{var t;return!!e.subRows.length||(null==(t=e.original)?void 0:t.type)===h.KD.Test},x=(e,t)=>t.startsWith(e),g=e=>e!==h.KD.Test,v=(e,t)=>r=>r.columnId===t&&r.rowId===e,y=(e,t)=>r=>[...r,{rowId:e,columnId:t}],Z=(e,t)=>r=>{const a={};return t.forEach((t=>a[t]=e)),!e&&"0"in a&&delete a[0],Object.assign({},r,a)},f=(e,t)=>r=>Object.assign({},r,{[e]:t});r(12459),r(51811);const w=[u.PassedUnexpected,u.FailedUnexpected,u.SkippedUnexpected],F=(I=w,e=>I.includes(e));var I;const k=e=>({id:e.columnId,desc:!0}),Q=(e,t)=>{const r={};e.forEach((e=>{const a=t[e],s={rowId:e,requests:{}};Object.entries(a).forEach((([e,t])=>{F(e)&&t&&(s.requests[e]=(e=>{switch(e){case u.PassedUnexpected:return{results:[h.Xm.Passed],resultProperties:[h.Zu.Unexpected]};case u.FailedUnexpected:return{results:[h.Xm.Failed,h.Xm.Killed,h.Xm.Cored],resultProperties:[h.Zu.Unexpected]};case u.SkippedUnexpected:return{results:[h.Xm.Skipped],resultProperties:[h.Zu.Unexpected]};default:return{results:[],resultProperties:[]}}})(e))})),r[e]=s})),Object.values(r).forEach((e=>{0===Object.keys(e.requests||{}).length&&delete r[e.rowId]}));const a=Object.keys(r);return[r,a]},C=e=>{const t={};return e.getAllCells().forEach((r=>{t[r.column.id]=e.getValue(r.column.id)})),t},N=e=>t=>{var r,a;return x(e.id,t.id)&&(a=null==(r=t.original)?void 0:r.type,!g(a))},B=e=>{const t={};return e.forEach((r=>{const a=e.filter((s=r,e=>{var t;return x(s.id,e.id)&&g(null==(t=e.original)?void 0:t.type)})).map((e=>e.id));var s;const l=e.filter(N(r)).map((e=>e.id)),n=[...a,...l];t[r.id]={allIds:n,packageIds:a,testIds:l}})),t};var E=r(11095),U=r(77632),X=r(39636),S=r(71977);const D=["nodeName","nodeType","isExpanded","depth"],R=e=>({display:"flex",maxWidth:"100%",paddingLeft:1*e+"rem"}),L=(0,a.forwardRef)(((e,t)=>{let{nodeName:r,nodeType:a,isExpanded:s,depth:l}=e,n=(0,E.Z)(e,D);const o=(e=>{switch(e){case h.KD.Package:case h.KD.Session:case h.KD.Suite:return X.P.Folder16x16;case h.KD.Test:default:return X.P.Test16x16}})(a);return(0,S.BX)("button",Object.assign({className:"flex items-center gap-1 overflow-hidden text-ellipsis whitespace-nowrap hover:text-primary",style:R(l)},n,{ref:t,children:[(0,S.tZ)(X.P.ArrowTreeDown16x16,{className:(0,U.cx)("grid place-items-center",s&&"text-primary",s?"rotate-360":"-rotate-90")}),(0,S.tZ)(o,{className:"grid place-items-center"}),(0,S.tZ)("span",{className:"truncate",children:r})]}))})),j=(0,a.createContext)(null),W=({value:e,children:t})=>(0,S.tZ)(j.Provider,{value:e,children:t}),M=()=>{const e=(0,a.useContext)(j);if(!e)throw new Error("No rows context ;(");return e};var P=r(73235);const T=["children"];const V=(0,P.Z)(o.am,{target:"e1ppv1kk2"})({name:"1folmiw",styles:"& .tippy-arrow{width:10px;height:6px;background-color:var(--chakra-colors-bg-primary);clip-path:polygon(0 0, 50% 80%, 100% 0);box-shadow:var(--chakra-shadows-popover);}"}),G=(0,P.Z)("button",{target:"e1ppv1kk1"})({name:"1ljza4t",styles:"display:flex;align-items:center;gap:22px;padding:0.375rem 10px;background-color:var(--chakra-colors-white);border-radius:0.25rem;box-shadow:var(--chakra-shadows-popover);&:hover{color:var(--chakra-colors-accent);}"}),O=(0,P.Z)("span",{target:"e1ppv1kk0"})({name:"12hys0u",styles:"font-size:0.625rem;font-weight:600;line-height:0.875rem"}),J=e=>{let{children:t}=e,r=(0,E.Z)(e,T);return(0,S.tZ)(V,{content:(0,S.BX)(G,Object.assign({},r,{children:[(0,S.tZ)(O,{children:"Open"}),(0,S.tZ)(O,{children:"Ctrl+click"})]})),animation:"shift-toward",interactive:!0,offset:[-25,9],arrow:!0,children:t})},H=({variant:e,columnId:t,results:r,resultProperties:a=[],row:l,table:n,value:i})=>{var c,u;const p=(0,s.I0)(),m=(0,d.D1)(d.HC),{rowsIds:b,rowsValues:x}=M(),{id:g}=l,{getState:w,setGlobalFilter:F,setExpanded:I}=n,k=(null==(c=l.original)?void 0:c.type)===h.KD.Test,{allIds:Q,packageIds:C,testIds:N}=b[g],B=w().globalFilter,E=B.some(v(g,t)),U=(e=>t=>t.filter((t=>t.rowId===e)).length>1)(g)(B),D=t in((null==(u=m[g])?void 0:u.requests)||{}),R=D||E,L=(e=>(t={})=>{const r=Object.assign({},t);return delete r[e],r})(t),j=((e,t)=>(r={})=>Object.assign({},r,{[e]:t}))(t,{results:r,resultProperties:a}),W=()=>{var e;D?(()=>{var e,t;const r=Object.keys((null==(e=m[g])?void 0:e.requests)||{}).length;D&&1===r&&I(f(g,!1)),p((0,d.Z6)({rowId:g,requests:L(null==(t=m[g])?void 0:t.requests)}))})():(I(f(g,!0)),p((0,d.Z6)({rowId:g,requests:j(null==(e=m[g])?void 0:e.requests)})))},P=()=>{if(!E)return I(Z(!0,C)),void F(y(g,t)(B));U||(p((0,d.M5)(N)),I(Z(!1,Q))),F(((e,t)=>r=>r.filter((r=>!v(e,t)(r))))(g,t)(B))},T=(e=!1)=>r=>{if(!r.ctrlKey&&!e)return P();const a=N.filter((e=>x[e][t])),s=a.every((e=>{var r;return t in((null==(r=m[e])?void 0:r.requests)||{})}));if(s)return(e=>{const t=e.map((e=>{var t;const r=(null==(t=m[e])?void 0:t.requests)||{};return{rowId:e,requests:L(r)}})),r=t.filter((e=>0===Object.keys(e.requests||{}).length)).map((e=>e.rowId));p((0,d.ab)(t)),I(Z(!1,r))})(a);(()=>{E||F(y(g,t)(B));const e=N.filter((e=>x[e][t])),r=e.map((e=>{var t;const r=(null==(t=m[e])?void 0:t.requests)||{};return{rowId:e,requests:j(r)}})),a=[...C,...e];p((0,d.ab)(r)),I(Z(!0,a))})()},V=e=>{e.preventDefault(),k?W():T(!1)(e)};return"0"===g&&i?(0,S.BX)("div",{className:"flex items-center gap-1",children:[(0,S.tZ)(o.Ct,{variant:e,isSelected:R,onClick:V,onContextMenu:V,children:i}),(0,S.tZ)(J,{onClick:T(!0),children:(0,S.tZ)(X.P.InfoCircleQuestionMark16x16,{className:"text-primary","aria-label":"Expand results"})})]}):i?(0,S.tZ)(o.Ct,{variant:e,isSelected:R,onClick:V,onContextMenu:V,children:i}):(0,S.tZ)(S.HY,{children:0})},Y=["label"],_=e=>{let{label:t}=e,r=(0,E.Z)(e,Y);return(0,S.tZ)("button",Object.assign({className:"text-[0.6875rem] font-semibold leading-[0.875rem] bg-primary-wash p-[0.375rem] rounded hover:text-primary"},r,{children:t}))},A=({table:e})=>{const t=(0,s.I0)(),{rowsIds:r,rowsValues:a}=M(),l=r[0].packageIds,n=r[0].testIds,o=e.getPreFilteredRowModel(),i=C(o.rowsById[0]),c=(u=i,Object.entries(u).filter((([e,t])=>w.includes(e)&&t)).map((([e])=>({columnId:e,rowId:"0"}))));var u;const p=c.map(k);return(0,S.BX)("div",{className:"flex items-center justify-between flex-grow",children:["Tree",(0,S.BX)("div",{className:"flex gap-4 pr-4",children:[(0,S.tZ)(_,{label:"Preview NOK",onClick:()=>{e.setGlobalFilter(c),e.setExpanded(Z(!0,l)),e.setExpanded(Z(!1,n)),t((0,d.VG)()),e.setSorting(p)}}),(0,S.tZ)(_,{label:"Open NOK",onClick:()=>{const[r,s]=Q(n,a);e.setGlobalFilter(c),e.setExpanded(Z(!0,l)),e.setExpanded(Z(!0,s)),t((0,d.T$)(r))}}),(0,S.tZ)(_,{label:"Reset",onClick:()=>{e.setGlobalFilter([]),e.setExpanded({0:!0}),e.setSorting([]),t((0,d.VG)())}})]})]})},z=(0,S.tZ)("svg",{width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.tZ)("path",{d:"M3 0L5.59808 3H0.401924L3 0Z",fill:"var(--chakra-colors-text-primary)"})}),K=(0,S.tZ)("svg",{width:"6",height:"8",viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.tZ)("path",{d:"M3 8L5.59808 5H0.401924L3 8Z",fill:"var(--chakra-colors-text-primary)"})}),q=({sortDescription:e})=>"asc"===e?z:"desc"===e?K:(0,S.tZ)("div",{style:{opacity:e?1:0},children:z});var $=r(36162);const ee=({instance:e})=>{const t=(0,a.useRef)(null),{isSticky:r}=(0,n._z)(t);return(0,S.tZ)("thead",{ref:t,className:(0,$.Z)("row-border",r&&"row-border-visible"),children:e.getHeaderGroups().map((e=>(0,S.tZ)("tr",{children:e.headers.map((e=>(0,S.tZ)("th",{colSpan:e.colSpan,children:e.isPlaceholder?null:(0,S.BX)("div",Object.assign({},e.column.getCanSort()?{onClick:e.column.getToggleSortingHandler(),className:"flex gap-1 items-center cursor-pointer select-none"}:{},{children:[(0,p.flexRender)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&(0,S.tZ)(q,{sortDescription:e.column.getIsSorted()})]}))},e.id)))},e.id)))})},te=e=>e.original?(0,S.tZ)(Ge,{row:e}):null,re=({row:e})=>{var t,r;const s=(null==(t=e.original)?void 0:t.type)===h.KD.Test&&e.getIsExpanded(),l=(0,a.useRef)(null),{isSticky:o}=(0,n._z)(l,{offset:-34});return(0,S.BX)(a.Fragment,{children:[(0,S.tZ)("tr",{className:(0,$.Z)(s&&"row-test-expanded",o&&"row-border-visible"),ref:l,children:e.getVisibleCells().map((e=>(0,S.tZ)("td",{children:(0,p.flexRender)(e.column.columnDef.cell,e.getContext())},e.id)))}),e.getIsExpanded()&&(null==(r=e.original)?void 0:r.type)===h.KD.Test?(0,S.tZ)("tr",{role:"row",children:(0,S.tZ)("td",{colSpan:11,children:te(e)})}):null]})},ae={expected:"var(--chakra-colors-text-expected)",unexpected:"var(--chakra-colors-text-unexpected)",gray:"var(--chakra-colors-text-menu)"},se=({header:e,iconName:t,iconColor:r})=>{if(t&&r){const a=ae[r],s=X.P[t];return(0,S.BX)("div",{className:"flex items-center gap-2",children:[e,(0,S.tZ)(s,{className:"grid place-items-center",style:{color:a}})]})}return(0,S.tZ)(S.HY,{children:e})},le=[{id:u.Total,accessor:e=>e.tests_run.total+e.tests_not_run.total,header:"Total",variant:o.FS.PrimaryActive,resultProperties:[h.Zu.Expected,h.Zu.Unexpected],results:[h.Xm.Passed,h.Xm.Failed,h.Xm.Killed,h.Xm.Cored,h.Xm.Incomplete,h.Xm.Skipped,h.Xm.Faked]},{id:u.Run,accessor:e=>e.tests_run.total,header:"Run",variant:o.FS.PrimaryActive,resultProperties:[h.Zu.Expected,h.Zu.Unexpected],results:[h.Xm.Passed,h.Xm.Failed,h.Xm.Killed,h.Xm.Cored,h.Xm.Incomplete]},{id:u.PassedExpected,accessor:e=>e.tests_run.passed,header:"Passed",variant:o.FS.ExpectedActive,resultProperties:[h.Zu.Expected],results:[h.Xm.Passed],iconName:"CircleOk16x16",iconColor:"expected"},{id:u.FailedExpected,accessor:e=>e.tests_run.failed,header:"Failed",variant:o.FS.ExpectedActive,resultProperties:[h.Zu.Expected],results:[h.Xm.Failed,h.Xm.Killed,h.Xm.Cored],iconName:"CircleOk16x16",iconColor:"expected"},{id:u.PassedUnexpected,accessor:e=>e.tests_run.passed_unexpected,header:"Passed",variant:o.FS.UnexpectedActive,resultProperties:[h.Zu.Unexpected],results:[h.Xm.Passed],iconName:"CircleInfo16x16",iconColor:"unexpected"},{id:u.FailedUnexpected,accessor:e=>e.tests_run.failed_unexpected,header:"Failed",variant:o.FS.UnexpectedActive,resultProperties:[h.Zu.Unexpected],results:[h.Xm.Failed,h.Xm.Killed,h.Xm.Cored],iconName:"CircleInfo16x16",iconColor:"unexpected"},{id:u.Aborted,accessor:e=>e.tests_run.aborted,header:"Aborted",variant:o.FS.UnexpectedActive,results:[h.Xm.Incomplete],iconName:"TriangleWarning16x16",iconColor:"gray"},{id:u.NotRun,accessor:e=>e.tests_not_run.total,header:"Not run",variant:o.FS.PrimaryActive,results:[h.Xm.Skipped,h.Xm.Faked]},{id:u.SkippedExpected,accessor:e=>e.tests_not_run.skipped,header:"Skipped",variant:o.FS.ExpectedActive,results:[h.Xm.Skipped],resultProperties:[h.Zu.Expected],iconName:"CircleOk16x16",iconColor:"expected"},{id:u.SkippedUnexpected,accessor:e=>e.tests_not_run.skipped_unexpected,header:"Skipped",variant:o.FS.UnexpectedActive,results:[h.Xm.Skipped],resultProperties:[h.Zu.Unexpected],iconName:"CircleInfo16x16",iconColor:"unexpected"}].map((e=>({accessorFn:e.accessor,id:e.id,header:()=>(0,S.tZ)(se,{header:e.header,iconName:e.iconName,iconColor:e.iconColor}),cell:({getValue:t,row:r,table:a})=>(0,S.tZ)(H,{variant:e.variant,columnId:e.id,results:e.results,resultProperties:e.resultProperties,table:a,row:r,value:t()})}))),ne={id:u.Tree,accessorFn:e=>({name:e.name,type:e.type}),header:({table:e})=>(0,S.tZ)(A,{table:e}),cell:({getValue:e,row:t})=>{const{name:r,type:a}=e();return(0,S.tZ)(L,{nodeName:r,nodeType:a,onClick:()=>t.toggleExpanded(),isExpanded:t.getIsExpanded(),depth:t.depth})},enableSorting:!1};var oe=r(91451),ie=r.n(oe),de=r(2755),ce=r.n(de),ue=r(52747),pe=r.n(ue),me=r(36053),he=r.n(me),be=r(54445),xe=r.n(be),ge=r(65237),ve=r.n(ge),ye=r(25550),Ze=r.n(ye),fe={};fe.styleTagTransform=ve(),fe.setAttributes=he(),fe.insert=pe().bind(null,"head"),fe.domAPI=ce(),fe.insertStyleElement=xe();ie()(Ze(),fe);Ze()&&Ze().locals&&Ze().locals;const we=(0,a.memo)((({data:e})=>{const[t,r]=(0,a.useState)({0:!0}),[s,l]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),i=(0,a.useMemo)((()=>[ne,...le]),[]),d=(0,p.useReactTable)({data:e,columns:i,state:{expanded:t,globalFilter:s,sorting:n},getCoreRowModel:(0,p.getCoreRowModel)(),getExpandedRowModel:(0,p.getExpandedRowModel)(),getSubRows:e=>e.children,onExpandedChange:r,autoResetExpanded:!1,getRowCanExpand:b,getFilteredRowModel:(0,p.getFilteredRowModel)(),getColumnCanGlobalFilter:()=>!0,onGlobalFilterChange:l,globalFilterFn:m,filterFromLeafRows:!0,getSortedRowModel:(0,p.getSortedRowModel)(),onSortingChange:o,debugTable:!0}),c=(0,a.useMemo)((()=>{const e=d.getPreFilteredRowModel().rowsById,t=d.getPreFilteredRowModel().flatRows;var r;return{rowsValues:(r=e,Object.entries(r).reduce(((e,[t,r])=>Object.assign({},e,{[t]:C(r)})),{})),rowsIds:B(t)}}),[d]);return(0,S.tZ)(W,{value:c,children:(0,S.tZ)("div",{className:"run-table","data-testid":"run-table",children:(0,S.BX)("table",{children:[(0,S.tZ)(ee,{instance:d}),(0,S.tZ)("tbody",{children:d.getRowModel().rows.map((e=>(0,S.tZ)(re,{row:e},e.id)))})]})})})}));r(30910),r(84002);var Fe=r(45502),Ie=r(6563);const ke=e=>{const{runId:t,resultId:r}=e,a=(0,i.F7)("getLogUrlByResultId"),s=(0,i.F7)("getHistoryLinkDetauls");return(0,S.BX)(Fe.rU,{className:"flex items-center w-full gap-1",onMouseEnter:()=>{a(r),s(r)},to:Ie._j.log({runId:t,focusId:r}),children:[(0,S.tZ)(X.P.EscapeRight20x20,{className:"grid place-items-center"}),"Log"]})};var Qe=r(2524),Ce=r(20609),Ne=r(91151);const Be=(0,Ne.wy)((0,Qe.Z)(new Date,-1)),Ee=(0,Ne.wy)((0,Qe.Z)(new Date,-3)),Ue=(0,Ne.wy)(new Date),Xe={mode:"linear",page:"1",results:Ce.CH.join(";"),verdictLookup:Ce.MM};r(81929);const Se=({label:e,search:t,openForm:r})=>{const a={pathname:"/history",search:r?`${t}&fromRun=true`:t};return(0,S.BX)(Fe.rU,{className:"flex items-center justify-between gap-4 px-4 py-2 transition-all rounded text-text-secondary hover:text-primary hover:bg-primary-wash focus:bg-primary-wash focus:text-primary group",to:a,target:"_blank",children:[(0,S.tZ)("span",{className:"text-[0.75rem] font-semibold",children:e}),(0,S.tZ)(X.P.ArrowShortRight24x24,{className:"text-text-menu group-hover:text-primary group-focus:text-primary"})]})},De=({prefilled:e,byTestName:t,byIteration:r,byIterationWithImportant:a,byIterationWithAllTags:s})=>(0,S.BX)("div",{className:"flex flex-col gap-2 p-3 bg-white rounded-xl shadow-popover",children:[(0,S.tZ)("div",{className:"px-4 py-1 text-text-menu",children:"Prefilled"}),(0,S.tZ)(Se,{label:"By all possible parameters",search:e,openForm:!0}),(0,S.tZ)("div",{className:"px-4 py-1 text-text-menu",children:"Direct"}),(0,S.tZ)(Se,{label:"By test name",search:t}),(0,S.tZ)(Se,{label:"By iteration",search:r}),(0,S.tZ)(Se,{label:"By iteration and important tags",search:a}),(0,S.tZ)(Se,{label:"By iteration and all tags",search:s})]}),Re=({data:e})=>{const{runId:t}=(0,c.UO)(),{data:r}=i.Ul.endpoints.getRunDetails.useQueryState(null!=t?t:l.skipToken),s=(0,a.useMemo)((()=>{if(!r)return;const{relevant_tags:t,important_tags:a}=r,s=a,l=t,n=[...s,...l],o=((e,t)=>{const r=(0,Ne.eM)(e.has_error);return Object.assign({},Xe,{testName:e.name,parameters:e.parameters.join(";"),startDate:Ee,finishDate:Ue,runProperties:Ce.hf.join(";"),resultProperties:r,verdict:e.obtained_result.verdict.join(";"),runData:t.join(";")})})(e,n),i=(e=>Object.assign({},Xe,{testName:e.name,startDate:Be,finishDate:Ue,runProperties:h.i4.NotCompromised}))(e),d=(e=>Object.assign({},Xe,{testName:e.name,startDate:Be,finishDate:Ue,runProperties:h.i4.NotCompromised,parameters:e.parameters.join(";")}))(e),c=((e,t)=>Object.assign({},Xe,{testName:e.name,parameters:e.parameters.join(";"),startDate:Be,finishDate:Ue,runProperties:h.i4.NotCompromised,runData:t.join(";")}))(e,s),u=((e,t)=>{var r;return Object.assign({},Xe,{testName:e.name,parameters:null==(r=e.parameters)?void 0:r.join(";"),startDate:Be,finishDate:Ue,runProperties:h.i4.NotCompromised,runData:t.join(";")})})(e,n);return{prefilled:(0,Ie.X6)(o),byTestName:(0,Ie.X6)(i),byIteration:(0,Ie.X6)(d),byIterationWithImportant:(0,Ie.X6)(c),byIterationWithAllTags:(0,Ie.X6)(u)}}),[e,r]);if(!s)return null;const n={pathname:"/history",search:s.prefilled};return(0,S.tZ)(o.am,{content:(0,S.tZ)(De,{prefilled:s.prefilled,byTestName:s.byTestName,byIteration:s.byIteration,byIterationWithImportant:s.byIterationWithImportant,byIterationWithAllTags:s.byIterationWithAllTags}),placement:"bottom-start",animation:"shift-toward",interactive:!0,children:(0,S.BX)(Fe.rU,{className:"flex items-center w-full gap-1",to:n,state:{fromRun:!0},children:[(0,S.tZ)(X.P.EscapeRight20x20,{className:"grid place-items-center"}),"History"]})})};r(94641);const Le=({runId:e,resultId:t})=>{const r=(0,i.F7)("getCharts"),a=(0,i.F7)("getResultInfo");return(0,S.BX)(Fe.rU,{className:"flex items-center gap-1",to:Ie._j.measurements({runId:e,resultId:t}),onMouseEnter:()=>{r(t.toString()),a(t.toString())},children:[(0,S.tZ)(X.P.EscapeRight20x20,{className:"grid place-items-center"}),"Measure"]})},je=({runId:e,resultId:t,data:r})=>{const{has_measurements:a}=r;return(0,S.tZ)("div",{className:"flex flex-col justify-start gap-3 text-primary text-[0.6875rem] font-semibold leading-[0.875rem]",children:(0,S.BX)("ul",{className:"flex flex-col items-start gap-3",children:[(0,S.tZ)("li",{className:"pl-2",children:(0,S.tZ)(ke,{runId:e,resultId:t})}),(0,S.tZ)("li",{className:"pl-2",children:(0,S.tZ)(Re,{data:r})}),a&&(0,S.tZ)("li",{className:"pl-2",children:(0,S.tZ)(Le,{runId:e,resultId:t})})]})})};var We=r(67912);const Me=({rowCount:e=1})=>(0,S.tZ)("div",{className:"flex flex-col gap-1 mt-1 mb-1",children:Array(e).fill(1).map(((e,t)=>(0,S.tZ)(We.Od,{height:"110px",startColor:"rgba(0, 0, 0, 0.04)",endColor:"rgba(0, 0, 0, 0.08)",borderRadius:"base"},t)))}),Pe={header:{position:"sticky",top:"66px"},headerRow:{height:"38px",borderRadius:"2px",backgroundColor:"var(--chakra-colors-selected)",padding:"0 12px"},bodyRow:{padding:"12px 0",backgroundColor:"var(--chakra-colors-selected)",borderRadius:"2px"}},Te=(0,a.memo)((({runId:e,depth:t,skeletonCount:r,isError:s,isFetching:l,data:n=[]})=>{const i=(0,a.useMemo)((()=>((e,t)=>[{Header:"Actions",id:"links",accessor:e=>e,Cell:({value:t})=>(0,S.tZ)(je,{runId:e,resultId:t.result_id,data:t}),maxWidth:100,columnCSS:{display:"flex",paddingLeft:"16px",justifyContent:"flex-start"},disableSortBy:!0},{Header:"Expected Results",accessor:e=>e.expected_result,Cell:({value:e})=>(0,S.tZ)(o.pH,{variant:"expected",verdicts:e.verdict,result:e.result_type}),disableSortBy:!0,columnCSS:{paddingLeft:.8*t+"rem",paddingRight:"16px",maxWidth:400}},{Header:"Obtained Result",accessor:e=>({isNotExpected:e.has_error,verdicts:e.obtained_result.verdict,result:e.obtained_result.result_type}),Cell:({value:e})=>(0,S.tZ)(o.pH,{variant:"obtained",verdicts:e.verdicts,result:e.result,isNotExpected:e.isNotExpected}),sortType:(e,t)=>"PASSED"===e.original.obtained_result.result_type?1:-1,sortInverted:!0,sortDescFirst:!0,maxWidth:400,columnCSS:{paddingRight:"16px"}},{Header:"Parameters",accessor:e=>e.parameters,Cell:({value:e})=>{const t=e.filter((e=>!e.startsWith("env="))),r=e.find((e=>e.startsWith("env=")));return(0,S.BX)("div",{className:"flex flex-col gap-1",children:[r&&(0,S.tZ)("div",{children:(0,S.tZ)(o.lA,{value:r.split("=")[1],isSelected:!1},r)}),(0,S.tZ)("div",{className:"flex flex-wrap gap-1",children:t.map((e=>(0,S.tZ)(o.Ct,{className:"bg-badge-1",children:e},e)))})]})},disableSortBy:!0}])(e,t)),[t,e]),d=(0,a.useMemo)((()=>(0,S.tZ)(Me,{rowCount:r})),[r]),c=(0,a.useMemo)((()=>(0,S.tZ)("h1",{children:"Something went wrong..."})),[]);return(0,S.tZ)("div",{className:"px-4 py-2",children:(0,S.tZ)(o.iA,{columns:i,data:n,emotionBaseTableCSS:Pe,spinner:d,isFetching:l,isError:s,errorComponent:c,headerShadow:!0,stickyOffset:-67})})})),Ve={[u.Total]:{results:[],resultProperties:[]}},Ge=({row:e})=>{const{id:t,depth:r}=e,{runId:s}=(0,c.UO)(),l=(0,d.D1)(d.HC)[t],n=null!=l&&l.requests&&Object.keys(l.requests).length?l.requests:Ve,{parent_id:o,result_id:u,name:p}=e.original,m=(0,a.useMemo)((()=>C(e)),[e]),{data:h,isFetching:b,isError:x}=(0,i.c2)({parentId:o||u,testName:p,requests:n}),g=(0,a.useMemo)((()=>Math.max(Object.keys(n).map((e=>m[e])).reduce(((e,t)=>e+t),0))),[n,m]);return s?(0,S.tZ)(Te,{data:h,runId:s,depth:r,skeletonCount:g,isFetching:b,isError:x}):null},Oe=({runId:e})=>{const{data:t,isFetching:r,isError:a}=(0,i.Ek)(e);return r?(0,S.tZ)(o.$j,{className:"h-screen"}):a?(0,S.tZ)("span",{children:"Error"}):t?(0,S.tZ)(we,{data:t}):null},Je=({runId:e})=>{const t=(0,s.I0)();(0,a.useEffect)((()=>{t((0,d.VG)())}),[t]);const r=(0,n.XY)({seconds:10}),{isLoading:c}=(0,i.Ek)(null!=e?e:l.skipToken),{isLoading:u}=(0,i.qL)(null!=e?e:l.skipToken);return(u||c)&&!r?(0,S.tZ)(o.$j,{className:"h-screen"}):e?(0,S.BX)(S.HY,{children:[(0,S.tZ)(Oe,{runId:e}),(0,S.tZ)(o.uv,{offset:158})]}):null}},25550:e=>{e.exports=[[e.id,'.run-table .row-border ::after{background-color:transparent;content:"";width:100%;height:1px;position:absolute;bottom:0;left:0}.run-table .row-border-visible::after{background-color:#dde3eb;content:"";width:100%;height:1px;position:absolute;bottom:0;left:0}.run-table .row-test-expanded{position:-webkit-sticky;position:sticky;background-color:#fff;top:33px;z-index:1}.run-table table{width:100%;border-collapse:collapse;background-color:var(--chakra-colors-bg-primary);border-radius:4px;border-spacing:0}.run-table table tbody{font-size:.75rem;line-height:1.125rem;font-weight:500}.run-table table thead{height:34px;position:-webkit-sticky;position:sticky;top:0;z-index:10;background-color:inherit;text-align:left;font-size:.6875rem;font-weight:600;line-height:.875rem}.run-table table thead tr{border-bottom:1px solid var(--chakra-colors-border-primary)}.run-table table tr{height:34px}.run-table table tbody tr:not(tr:last-child){border-bottom:1px solid var(--chakra-colors-border-primary)}.run-table table td:first-of-type,.run-table table th:first-of-type{padding-left:16px;width:25vw}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJ1bi10YWJsZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUErQiw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLHNDQUFzQyx3QkFBd0IsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLDhCQUE4Qix1QkFBZSxDQUFmLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLGlCQUFpQixVQUFVLENBQUMsd0JBQXdCLENBQUMsZ0RBQWdELENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsdUJBQXVCLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyx1QkFBdUIsV0FBVyxDQUFDLHVCQUFlLENBQWYsZUFBZSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsd0JBQXdCLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQywwQkFBMEIsMkRBQTJELENBQUMsb0JBQW9CLFdBQVcsQ0FBQyw2Q0FBNkMsMkRBQTJELENBQUMsb0VBQW9FLGlCQUFpQixDQUFDLFVBQVUiLCJmaWxlIjoicnVuLXRhYmxlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucnVuLXRhYmxlIC5yb3ctYm9yZGVyIDo6YWZ0ZXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb250ZW50OlwiXCI7d2lkdGg6MTAwJTtoZWlnaHQ6MXB4O3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MH0ucnVuLXRhYmxlIC5yb3ctYm9yZGVyLXZpc2libGU6OmFmdGVye2JhY2tncm91bmQtY29sb3I6I2RkZTNlYjtjb250ZW50OlwiXCI7d2lkdGg6MTAwJTtoZWlnaHQ6MXB4O3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MH0ucnVuLXRhYmxlIC5yb3ctdGVzdC1leHBhbmRlZHtwb3NpdGlvbjpzdGlja3k7YmFja2dyb3VuZC1jb2xvcjojZmZmO3RvcDozM3B4O3otaW5kZXg6MX0ucnVuLXRhYmxlIHRhYmxle3dpZHRoOjEwMCU7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2hha3JhLWNvbG9ycy1iZy1wcmltYXJ5KTtib3JkZXItcmFkaXVzOjRweDtib3JkZXItc3BhY2luZzowfS5ydW4tdGFibGUgdGFibGUgdGJvZHl7Zm9udC1zaXplOi43NXJlbTtsaW5lLWhlaWdodDoxLjEyNXJlbTtmb250LXdlaWdodDo1MDB9LnJ1bi10YWJsZSB0YWJsZSB0aGVhZHtoZWlnaHQ6MzRweDtwb3NpdGlvbjpzdGlja3k7dG9wOjA7ei1pbmRleDoxMDtiYWNrZ3JvdW5kLWNvbG9yOmluaGVyaXQ7dGV4dC1hbGlnbjpsZWZ0O2ZvbnQtc2l6ZTouNjg3NXJlbTtmb250LXdlaWdodDo2MDA7bGluZS1oZWlnaHQ6Ljg3NXJlbX0ucnVuLXRhYmxlIHRhYmxlIHRoZWFkIHRye2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNoYWtyYS1jb2xvcnMtYm9yZGVyLXByaW1hcnkpfS5ydW4tdGFibGUgdGFibGUgdHJ7aGVpZ2h0OjM0cHh9LnJ1bi10YWJsZSB0YWJsZSB0Ym9keSB0cjpub3QodHI6bGFzdC1jaGlsZCl7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tY2hha3JhLWNvbG9ycy1ib3JkZXItcHJpbWFyeSl9LnJ1bi10YWJsZSB0YWJsZSB0ZDpmaXJzdC1vZi10eXBlLC5ydW4tdGFibGUgdGFibGUgdGg6Zmlyc3Qtb2YtdHlwZXtwYWRkaW5nLWxlZnQ6MTZweDt3aWR0aDoyNXZ3fSJdfQ== */',"",""]]}}]);